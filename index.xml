<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>VvVzzz Blog</title><link>https://godvvvzzz.github.io/</link><description>Recent content on VvVzzz Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 04 Nov 2025 00:00:28 +0800</lastBuildDate><atom:link href="https://godvvvzzz.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>reactå­¦ä¹ è®¡åˆ’</title><link>https://godvvvzzz.github.io/p/react-study-plan/</link><pubDate>Sat, 22 Feb 2025 00:00:00 +0000</pubDate><guid>https://godvvvzzz.github.io/p/react-study-plan/</guid><description>&lt;h1 id="react-æ¸è¿›å¼å­¦ä¹ è·¯çº¿">React æ¸è¿›å¼å­¦ä¹ è·¯çº¿
&lt;/h1>&lt;h2 id="-å­¦ä¹ åŸåˆ™">ğŸ“Œ å­¦ä¹ åŸåˆ™
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>æ¯ä¸ªé˜¶æ®µ 1-2 ä¸ªæ ¸å¿ƒé¡¹ç›®&lt;/strong>ï¼ˆä¿æŒå…´è¶£å’Œæˆå°±æ„Ÿï¼‰&lt;/li>
&lt;li>&lt;strong>é‡åˆ°é—®é¢˜å†è¡¥å……ç†è®ºçŸ¥è¯†&lt;/strong>ï¼ˆé¿å…è¿‡æ—©é™·å…¥ç»†èŠ‚ï¼‰&lt;/li>
&lt;li>&lt;strong>å…ˆæ¨¡ä»¿å†åˆ›é€ &lt;/strong>ï¼ˆé€šè¿‡ä¿®æ”¹ç°æœ‰é¡¹ç›®å­¦ä¹ ï¼‰&lt;/li>
&lt;/ol>
&lt;h2 id="-é˜¶æ®µè·¯çº¿å›¾">ğŸš€ é˜¶æ®µè·¯çº¿å›¾
&lt;/h2>&lt;h3 id="é˜¶æ®µ-1htmlcss-ç”Ÿå­˜æŠ€èƒ½1-2å‘¨">é˜¶æ®µ 1ï¼šHTML/CSS ç”Ÿå­˜æŠ€èƒ½ï¼ˆ1-2å‘¨ï¼‰
&lt;/h3>&lt;p>&lt;strong>ç›®æ ‡&lt;/strong>ï¼šèƒ½ä¿®æ”¹ç°æœ‰é¡¹ç›®çš„æ ·å¼å’Œç»“æ„&lt;br>
&lt;strong>é¡¹ç›®&lt;/strong>ï¼šé‡æ„ &lt;a class="link" href="https://github.com/GODVvVZzz/react-todo-demo" target="_blank" rel="noopener"
>TodoList&lt;/a> çš„ UI&lt;br>
&lt;strong>å­¦ä¹ é‡ç‚¹&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>é€šè¿‡ Chrome å¼€å‘è€…å·¥å…·è°ƒè¯•æ ·å¼&lt;/li>
&lt;li>ä¿®æ”¹ç°æœ‰ CSS ç±»åå’Œæ ·å¼&lt;/li>
&lt;li>ä½¿ç”¨ Flex/Grid è°ƒæ•´å¸ƒå±€&lt;/li>
&lt;li>æ·»åŠ ç®€å•çš„åŠ¨ç”»æ•ˆæœ&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>èµ„æº&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://flexboxfroggy.com/" target="_blank" rel="noopener"
>Flexbox å°æ¸¸æˆ&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://flukeout.github.io/" target="_blank" rel="noopener"
>CSS Diner&lt;/a>ï¼ˆCSS é€‰æ‹©å™¨ç»ƒä¹ ï¼‰&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS" target="_blank" rel="noopener"
>MDN åŸºç¡€æ•™ç¨‹&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="é˜¶æ®µ-2javascript-æ ¸å¿ƒæ“ä½œ2-3å‘¨">é˜¶æ®µ 2ï¼šJavaScript æ ¸å¿ƒæ“ä½œï¼ˆ2-3å‘¨ï¼‰
&lt;/h3>&lt;p>&lt;strong>ç›®æ ‡&lt;/strong>ï¼šèƒ½è¯»æ‡‚å¹¶ä¿®æ”¹é¡¹ç›®ä¸­çš„ JS é€»è¾‘&lt;br>
&lt;strong>é¡¹ç›®&lt;/strong>ï¼šç»™ TodoList æ·»åŠ æ–°åŠŸèƒ½&lt;br>
&lt;strong>å­¦ä¹ é‡ç‚¹&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>æ·»åŠ ã€Œç¼–è¾‘ä»»åŠ¡ã€åŠŸèƒ½&lt;/li>
&lt;li>å®ç°ã€Œæœ¬åœ°å­˜å‚¨ã€æŒä¹…åŒ–&lt;/li>
&lt;li>æ·»åŠ ã€Œä»»åŠ¡åˆ†ç±»ã€è¿‡æ»¤åŠŸèƒ½&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>èµ„æº&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://javascript30.com/" target="_blank" rel="noopener"
>JavaScript 30&lt;/a>ï¼ˆæ¯å¤© 1 ä¸ªå°é¡¹ç›®ï¼‰&lt;/li>
&lt;li>&lt;a class="link" href="https://zh.javascript.info/" target="_blank" rel="noopener"
>ç°ä»£ JavaScript æ•™ç¨‹&lt;/a>ï¼ˆæŒ‰éœ€æŸ¥é˜…ï¼‰&lt;/li>
&lt;li>&lt;a class="link" href="https://www.codewars.com/" target="_blank" rel="noopener"
>Codewars&lt;/a>ï¼ˆç¼–ç¨‹æŒ‘æˆ˜ï¼‰&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="é˜¶æ®µ-3react-æ ¸å¿ƒæ¨¡å¼3-4å‘¨">é˜¶æ®µ 3ï¼šReact æ ¸å¿ƒæ¨¡å¼ï¼ˆ3-4å‘¨ï¼‰
&lt;/h3>&lt;p>&lt;strong>ç›®æ ‡&lt;/strong>ï¼šç†è§£ç»„ä»¶åŒ–å¼€å‘æ€ç»´&lt;br>
&lt;strong>é¡¹ç›®&lt;/strong>ï¼šå¼€å‘å¤©æ°”æŸ¥è¯¢åº”ç”¨&lt;br>
&lt;strong>å­¦ä¹ é‡ç‚¹&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>ç»„ä»¶æ‹†åˆ†æŠ€å·§ï¼ˆå®¹å™¨ç»„ä»¶/å±•ç¤ºç»„ä»¶ï¼‰&lt;/li>
&lt;li>æŒæ¡ useEffect å¤„ç† API è¯·æ±‚&lt;/li>
&lt;li>ä½¿ç”¨ Context å…±äº«å…¨å±€çŠ¶æ€&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>èµ„æº&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://react.dev/learn" target="_blank" rel="noopener"
>React å®˜æ–¹æ–‡æ¡£&lt;/a>ï¼ˆäº¤äº’å¼æ•™ç¨‹ï¼‰&lt;/li>
&lt;li>&lt;a class="link" href="https://reactpatterns.com/" target="_blank" rel="noopener"
>React æ¨¡å¼å›¾è§£&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://epicreact.dev/" target="_blank" rel="noopener"
>EpicReact.dev&lt;/a>ï¼ˆå®æˆ˜æŠ€å·§ï¼‰&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="é˜¶æ®µ-4ç°ä»£å·¥å…·é“¾2å‘¨">é˜¶æ®µ 4ï¼šç°ä»£å·¥å…·é“¾ï¼ˆ2å‘¨ï¼‰
&lt;/h3>&lt;p>&lt;strong>ç›®æ ‡&lt;/strong>ï¼šèƒ½é…ç½®å’Œè°ƒè¯•å·¥ç¨‹åŒ–é¡¹ç›®&lt;br>
&lt;strong>é¡¹ç›®&lt;/strong>ï¼šä»é›¶æ­å»ºé¡¹ç›®è„šæ‰‹æ¶&lt;br>
&lt;strong>å­¦ä¹ é‡ç‚¹&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨ Vite åˆå§‹åŒ–é¡¹ç›®&lt;/li>
&lt;li>é…ç½® ESLint + Prettier&lt;/li>
&lt;li>æ·»åŠ è·¯ç”±ï¼ˆReact Routerï¼‰&lt;/li>
&lt;li>é›†æˆçŠ¶æ€ç®¡ç†ï¼ˆZustand/Jotaiï¼‰&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>èµ„æº&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://vitejs.dev/" target="_blank" rel="noopener"
>Vite å®˜æ–¹æ–‡æ¡£&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://reactrouter.com/en/main/start/tutorial" target="_blank" rel="noopener"
>React Router æ•™ç¨‹&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="é˜¶æ®µ-5å®æˆ˜è¿›é˜¶4-6å‘¨">é˜¶æ®µ 5ï¼šå®æˆ˜è¿›é˜¶ï¼ˆ4-6å‘¨ï¼‰
&lt;/h3>&lt;p>&lt;strong>ç›®æ ‡&lt;/strong>ï¼šä½“éªŒçœŸå®é¡¹ç›®å¼€å‘æµç¨‹&lt;br>
&lt;strong>é¡¹ç›®&lt;/strong>ï¼šå¼€å‘ã€Œä¸ªäººåšå®¢ç³»ç»Ÿã€&lt;br>
&lt;strong>åŠŸèƒ½éœ€æ±‚&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>æ–‡ç« åˆ—è¡¨/è¯¦æƒ…é¡µ&lt;/li>
&lt;li>æ ‡ç­¾åˆ†ç±»ç³»ç»Ÿ&lt;/li>
&lt;li>è¯„è®ºåŠŸèƒ½&lt;/li>
&lt;li>ç®¡ç†å‘˜åå°&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æŠ€æœ¯æ ˆ&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>Next.jsï¼ˆSSRï¼‰&lt;/li>
&lt;li>Markdown è§£æ&lt;/li>
&lt;li>èº«ä»½éªŒè¯ï¼ˆNextAuthï¼‰&lt;/li>
&lt;li>æ•°æ®åº“ï¼ˆSupabaseï¼‰&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>èµ„æº&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://nextjs.org/learn" target="_blank" rel="noopener"
>Next.js å®˜æ–¹æ•™ç¨‹&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://supabase.com/docs" target="_blank" rel="noopener"
>Supabase æ–‡æ¡£&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="é˜¶æ®µ-6å¤§å‹é¡¹ç›®å®æˆ˜æŒç»­">é˜¶æ®µ 6ï¼šå¤§å‹é¡¹ç›®å®æˆ˜ï¼ˆæŒç»­ï¼‰
&lt;/h3>&lt;p>&lt;strong>ç›®æ ‡&lt;/strong>ï¼šåŸ¹å…»ä»£ç é˜…è¯»å’Œåä½œèƒ½åŠ›&lt;br>
&lt;strong>å­¦ä¹ æ–¹æ³•&lt;/strong>ï¼š&lt;/p>
&lt;ol>
&lt;li>å‚ä¸å¼€æºé¡¹ç›®ï¼ˆä»ä¿®æ”¹æ–‡æ¡£å¼€å§‹ï¼‰&lt;/li>
&lt;li>é˜…è¯» Ant Design ç­‰ä¼˜ç§€ç»„ä»¶åº“æºç &lt;/li>
&lt;li>å­¦ä¹  Monorepo é¡¹ç›®ç®¡ç†ï¼ˆTurboRepoï¼‰&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>æ¨èé¡¹ç›®&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/facebook/react" target="_blank" rel="noopener"
>React GitHub æºç &lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/vercel" target="_blank" rel="noopener"
>Vercel å¼€æºé¡¹ç›®&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://ui.shadcn.com/" target="_blank" rel="noopener"
>Shadcn UI&lt;/a>ï¼ˆç°ä»£ç»„ä»¶åº“ï¼‰&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-å­¦ä¹ æŠ€å·§">ğŸ’¡ å­¦ä¹ æŠ€å·§
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>Debug ä¼˜å…ˆ&lt;/strong>ï¼šé‡åˆ°æŠ¥é”™æ—¶å…ˆå°è¯•è‡ªå·±è§£å†³ï¼ˆå­¦ä¼šçœ‹é”™è¯¯ä¿¡æ¯ï¼‰&lt;/li>
&lt;li>&lt;strong>æš´åŠ›ä¿®æ”¹æ³•&lt;/strong>ï¼šåœ¨å‰¯æœ¬é¡¹ç›®é‡Œéšæ„ä¿®æ”¹ä»£ç è§‚å¯Ÿæ•ˆæœ&lt;/li>
&lt;li>&lt;strong>3:1 åŸåˆ™&lt;/strong>ï¼šæ¯å†™ 3 å°æ—¶ä»£ç ï¼Œç”¨ 1 å°æ—¶æ•´ç†ç¬”è®°&lt;/li>
&lt;li>&lt;strong>é€†å‘å·¥ç¨‹&lt;/strong>ï¼šæ‰¾åˆ°å–œæ¬¢çš„ç½‘ç«™/åº”ç”¨ï¼Œå°è¯•ç”¨ React å¤ç°&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="-å·¥å…·æ¨è">ğŸ› ï¸ å·¥å…·æ¨è
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>ä»£ç æ²™ç›’&lt;/strong>ï¼š&lt;a class="link" href="https://codesandbox.io/" target="_blank" rel="noopener"
>CodeSandbox&lt;/a>ï¼ˆå¿«é€Ÿå®éªŒæƒ³æ³•ï¼‰&lt;/li>
&lt;li>&lt;strong>AI è¾…åŠ©&lt;/strong>ï¼š&lt;a class="link" href="https://cursor.sh/" target="_blank" rel="noopener"
>Cursor&lt;/a>ï¼ˆä»£ç æ™ºèƒ½è¡¥å…¨ï¼‰&lt;/li>
&lt;li>&lt;strong>çŸ¥è¯†ç®¡ç†&lt;/strong>ï¼š&lt;a class="link" href="https://obsidian.md/" target="_blank" rel="noopener"
>Obsidian&lt;/a>ï¼ˆæ„å»ºä¸ªäººçŸ¥è¯†åº“ï¼‰&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-æ¯æ—¥å­¦ä¹ èŠ‚å¥å‚è€ƒ">ğŸ“… æ¯æ—¥å­¦ä¹ èŠ‚å¥ï¼ˆå‚è€ƒï¼‰
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>æ—¶é—´æ®µ&lt;/th>
&lt;th>å†…å®¹&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>09:00-10:30&lt;/td>
&lt;td>é¡¹ç›®ç¼–ç ï¼ˆæ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>10:30-11:00&lt;/td>
&lt;td>ä¼‘æ¯ + æ•´ç†é—®é¢˜æ¸…å•&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>11:00-12:00&lt;/td>
&lt;td>é’ˆå¯¹æ€§å­¦ä¹ ï¼ˆè§£å†³ä¸Šåˆé—®é¢˜ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>14:00-15:30&lt;/td>
&lt;td>ä»£ç é‡æ„/åŠŸèƒ½ä¼˜åŒ–&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>15:30-16:00&lt;/td>
&lt;td>ç¤¾åŒºäº¤æµï¼ˆStack Overflowï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>16:00-17:00&lt;/td>
&lt;td>é˜…è¯»æºç /æŠ€æœ¯æ–‡ç« &lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>é€šè¿‡ã€Œéœ€æ±‚é©±åŠ¨å­¦ä¹ ã€çš„æ–¹å¼ï¼Œåœ¨è§£å†³å®é™…é—®é¢˜çš„è¿‡ç¨‹ä¸­è‡ªç„¶æŒæ¡å¿…è¦çŸ¥è¯†ã€‚è®°ä½ï¼š&lt;strong>å¤§å‹é¡¹ç›®åªæ˜¯å¤šä¸ªå°åŠŸèƒ½çš„ç»„åˆ&lt;/strong>ï¼Œä¿æŒè¿­ä»£æ”¹è¿›çš„å¿ƒæ€æ›´é‡è¦ã€‚&lt;/p></description></item><item><title>è®°å½•æœ¬åšå®¢æ­å»ºè¿‡ç¨‹</title><link>https://godvvvzzz.github.io/p/hugo-stack-study/</link><pubDate>Wed, 11 Dec 2024 09:44:53 +0800</pubDate><guid>https://godvvvzzz.github.io/p/hugo-stack-study/</guid><description>&lt;h2 id="hugo-stack-starter">Hugo Stack Starter
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack-starter" target="_blank" rel="noopener"
>https://github.com/CaiJimmy/hugo-theme-stack-starter&lt;/a>&lt;/p>
&lt;p>è¿™æ˜¯ä¸€ä¸ªä¸º &lt;strong>Hugo Stack&lt;/strong> ä¸»é¢˜è®¾è®¡çš„å¿«é€Ÿä¸Šæ‰‹æ¨¡æ¿ï¼Œä½¿ç”¨äº† &lt;strong>Hugo æ¨¡å—&lt;/strong> æ¥åŠ è½½ä¸»é¢˜ã€‚å®ƒæä¾›äº†åŸºç¡€çš„ä¸»é¢˜ç»“æ„å’Œé…ç½®ï¼ŒåŒæ—¶é…ç½®äº† &lt;strong>GitHub Actions&lt;/strong>ï¼Œå¯ä»¥è‡ªåŠ¨å°†ç½‘ç«™éƒ¨ç½²åˆ° GitHub Pagesã€‚è¿˜åŒ…å«ä¸€ä¸ªæ¯å¤©è‡ªåŠ¨æ›´æ–°ä¸»é¢˜çš„å®šæ—¶ä»»åŠ¡ï¼ˆcron jobï¼‰ã€‚&lt;/p>
&lt;h3 id="åˆ›å»º-github-ä»“åº“">åˆ›å»º GitHub ä»“åº“
&lt;/h3>&lt;ol>
&lt;li>ç‚¹å‡» GitHub ä¸Šçš„ &lt;strong>Use this template&lt;/strong> æŒ‰é’®ã€‚&lt;/li>
&lt;li>å°†æ–°ä»“åº“å‘½åä¸º &lt;code>&amp;lt;ç”¨æˆ·å&amp;gt;.github.io&lt;/code>ã€‚å…¶ä¸­ï¼Œç”¨æˆ·åå»ºè®®ä¸ºå…¨å°å†™ã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="åˆ›å»º-github-codespace">åˆ›å»º GitHub Codespace
&lt;/h3>&lt;ol>
&lt;li>ä»“åº“åˆ›å»ºå®Œæˆåï¼Œåˆ›å»ºä¸€ä¸ªä¸ä¹‹å…³è”çš„ &lt;strong>GitHub Codespace&lt;/strong>ã€‚&lt;/li>
&lt;li>Codespace å·²ç»é…ç½®å¥½äº† Hugo çš„æœ€æ–°æ‰©å±•ç‰ˆæœ¬ã€‚&lt;/li>
&lt;li>åœ¨ç»ˆç«¯ä¸­è¿è¡Œå‘½ä»¤ &lt;code>hugo server&lt;/code>ï¼Œå³å¯åœ¨æµè§ˆå™¨ä¸­é¢„è§ˆä½ çš„ç½‘ç«™ã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="é…ç½®ç«™ç‚¹ä¿¡æ¯">é…ç½®ç«™ç‚¹ä¿¡æ¯
&lt;/h3>&lt;ol>
&lt;li>æ£€æŸ¥ä»“åº“ä¸­çš„ &lt;code>config&lt;/code> æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ˜¯ç«™ç‚¹çš„é…ç½®æ–‡ä»¶ã€‚&lt;/li>
&lt;li>ä¿®æ”¹ &lt;code>config/_default/config.toml&lt;/code> æ–‡ä»¶ä¸­çš„ &lt;code>baseurl&lt;/code> å±æ€§ï¼Œå¡«å…¥ä½ çš„ç½‘ç«™ URLã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="éƒ¨ç½²åˆ°-github-pages">éƒ¨ç½²åˆ° GitHub Pages
&lt;/h3>&lt;ol>
&lt;li>æ‰“å¼€ä»“åº“çš„ &lt;strong>Settings -&amp;gt; Pages&lt;/strong> é¡µé¢ã€‚&lt;/li>
&lt;li>å°†æ„å»ºåˆ†æ”¯ä» &lt;code>master&lt;/code> æ”¹ä¸º &lt;code>gh-pages&lt;/code>ã€‚&lt;/li>
&lt;li>æ¯æ¬¡ç¼–è¾‘å®Œç½‘ç«™åï¼Œåªéœ€å°†æ›´æ”¹æäº¤å¹¶æ¨é€åˆ°ä»“åº“ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨å°†ç½‘ç«™éƒ¨ç½²åˆ°å¯¹åº”çš„ GitHub Pagesã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="å¦‚ä½•å†™åšå®¢">å¦‚ä½•å†™åšå®¢
&lt;/h2>&lt;h3 id="æœ¬åœ°ä¸‹è½½hugo">æœ¬åœ°ä¸‹è½½hugo
&lt;/h3>&lt;p>ä»¥ububtuä¸ºä¾‹&lt;/p>
&lt;p>&lt;strong>1. ä¸‹è½½ Hugo æœ€æ–°ç‰ˆ&lt;/strong>&lt;/p>
&lt;p>è®¿é—® Hugo çš„ GitHub Releases é¡µé¢æ‰¾åˆ°æœ€æ–°ç‰ˆä¸‹è½½é“¾æ¥ï¼š
&lt;a class="link" href="https://github.com/gohugoio/hugo/releases" target="_blank" rel="noopener"
>Hugo Releases&lt;/a>&lt;/p>
&lt;p>æˆ–è€…ç›´æ¥é€šè¿‡å‘½ä»¤è¡Œä¸‹è½½ &lt;code>hugo_extended&lt;/code> çš„ Linux 64 ä½ç‰ˆæœ¬ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wget https://github.com/gohugoio/hugo/releases/download/v0.139.3/hugo_extended_0.139.3_Linux-64bit.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>2. è§£å‹ä¸‹è½½çš„æ–‡ä»¶&lt;/strong>&lt;/p>
&lt;p>è§£å‹ &lt;code>.tar.gz&lt;/code> æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tar -xvzf hugo_extended_0.139.3_Linux-64bit.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è§£å‹åä¼šç”Ÿæˆä¸€ä¸ª &lt;code>hugo&lt;/code> äºŒè¿›åˆ¶æ–‡ä»¶ã€‚&lt;/p>
&lt;p>&lt;strong>3. å®‰è£… Hugo&lt;/strong>&lt;/p>
&lt;p>å°†è§£å‹åçš„ &lt;code>hugo&lt;/code> äºŒè¿›åˆ¶æ–‡ä»¶ç§»åŠ¨åˆ°ç³»ç»Ÿè·¯å¾„ï¼ˆå¦‚ &lt;code>/usr/local/bin&lt;/code>ï¼‰ï¼Œä»¥ä¾¿å…¨å±€ä½¿ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo mv hugo /usr/local/bin/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>4. éªŒè¯å®‰è£…&lt;/strong>&lt;/p>
&lt;p>è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯å®‰è£…å¹¶æ£€æŸ¥ç‰ˆæœ¬ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">hugo version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¾“å‡ºç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plaintext" data-lang="plaintext">&lt;span class="line">&lt;span class="cl">hugo v0.139.3+extended linux/amd64 BuildDate=2024-12-09T10:00:00Z
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åˆ›å»ºæ–°æ–‡ç« ">&lt;strong>åˆ›å»ºæ–°æ–‡ç« &lt;/strong>
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">hugo new post/react-study-plan/index.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ &lt;code>content/post/react-study-plan/index.mdd&lt;/code> ä¸­ç¼–è¾‘å†…å®¹ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;My First Post&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">date&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="ld">2024-12-09&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">draft&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">tags&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;hugo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;theme&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">categories&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;blog&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">This is my first post with Hugo Stack theme!&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¯ç”¨è¯„è®º">&lt;strong>å¯ç”¨è¯„è®º&lt;/strong>
&lt;/h3>&lt;p>Stack ä¸»é¢˜é»˜è®¤æ”¯æŒ Utterancesè¯„è®ºç³»ç»Ÿï¼Œåªéœ€è¦åœ¨ &lt;code>/config/params.toml&lt;/code>é…ç½®ä»¥ä¸‹å‚æ•°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">## Comments&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">comments&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">enabled&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">provider&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;utterances&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">comments&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">utterances&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">repo&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;GODVvVZzz/blog-comments&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">issueTerm&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;pathname&amp;#34;&lt;/span> &lt;span class="c"># è¯„è®ºä¸æ–‡ç« çš„å…³è”æ–¹å¼ï¼Œå¯é€‰ title, pathname, url&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">label&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;Comments&amp;#34;&lt;/span> &lt;span class="c"># GitHub Issue çš„æ ‡ç­¾åç§°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">theme&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;github-light&amp;#34;&lt;/span> &lt;span class="c"># è¯„è®ºæ¡†çš„ä¸»é¢˜é£æ ¼&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æœ¬åœ°é¢„è§ˆ">æœ¬åœ°é¢„è§ˆ
&lt;/h3>&lt;p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œhugo serverï¼Œè®¿é—®http://localhost:1313/&lt;/p>
&lt;h3 id="æ ‡ç­¾tagé…ç½®">æ ‡ç­¾&amp;amp;tagé…ç½®
&lt;/h3>&lt;p>ç›´æ¥åœ¨æ–‡ç«  Front Matterä¸­æ·»åŠ å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;æµ‹è¯•æ–‡ç« &amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">date&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="ld">2024-12-18&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">categories&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">æµ‹è¯•åˆ†ç±»&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">tags&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">æ ‡ç­¾1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">æ ‡ç­¾2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å…¶ä»–">å…¶ä»–
&lt;/h2>&lt;h3 id="é…ç½®é¡¹ç›®gitå¿½ç•¥æ–‡ä»¶">é…ç½®é¡¹ç›®gitå¿½ç•¥æ–‡ä»¶
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># Hugo ç¼“å­˜ç›®å½•
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.cache/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo_stats.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">resources/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ„å»ºè¾“å‡ºç›®å½•
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">public/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Node.js å’Œå‰ç«¯å·¥å…·ç”Ÿæˆçš„æ–‡ä»¶ï¼ˆå¦‚é€‚ç”¨ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">node_modules/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dist/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ä¸´æ—¶æ–‡ä»¶å’Œæ—¥å¿—
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*.log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*.lock
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.DS_Store
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Thumbs.db
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*.tmp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*.bak
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># TypeScript æˆ–ç¼–è¾‘å™¨ç›¸å…³é…ç½®æ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tsconfig.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jsconfig.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ“ä½œç³»ç»Ÿæˆ–ç¼–è¾‘å™¨ç”Ÿæˆçš„æ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.idea/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.vscode/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*.swp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*~
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Hugo æ¨¡å—ç¼“å­˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go.sum
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go.mod
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>FDæ³„éœ²æ’æŸ¥</title><link>https://godvvvzzz.github.io/p/fd-leak-investigation/</link><pubDate>Tue, 10 Dec 2024 00:00:00 +0000</pubDate><guid>https://godvvvzzz.github.io/p/fd-leak-investigation/</guid><description>&lt;h3 id="æ–‡ä»¶æè¿°ç¬¦fdæ¦‚è¿°">æ–‡ä»¶æè¿°ç¬¦ï¼ˆFDï¼‰æ¦‚è¿°
&lt;/h3>&lt;p>æ–‡ä»¶æè¿°ç¬¦ï¼ˆFDï¼‰æ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸ç”¨æ¥æ ‡è¯†å·²æ‰“å¼€æ–‡ä»¶çš„éè´Ÿæ•´æ•°ç´¢å¼•ã€‚åœ¨ç¨‹åºä¸­ï¼Œæ–‡ä»¶æè¿°ç¬¦ç”¨äºæ–‡ä»¶çš„è¯»å†™æ“ä½œï¼Œå¦‚é€šè¿‡&lt;code>read&lt;/code>ã€&lt;code>write&lt;/code>ç³»ç»Ÿè°ƒç”¨ã€‚åœ¨POSIXæ ‡å‡†ä¸­ï¼Œæ–‡ä»¶æè¿°ç¬¦0ã€1ã€2åˆ†åˆ«ä»£è¡¨æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯ã€‚&lt;/p>
&lt;h3 id="fdæ³„éœ²ç°è±¡">FDæ³„éœ²ç°è±¡
&lt;/h3>&lt;p>å½“ä¸€ä¸ªè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡è¶…è¿‡ç³»ç»Ÿé™åˆ¶ï¼ˆé»˜è®¤ä¸º1024ï¼‰ï¼Œç³»ç»Ÿå°†æ— æ³•ä¸ºæ–°æ–‡ä»¶åˆ†é…æè¿°ç¬¦ï¼Œå¹¶å¯èƒ½æŠ›å‡ºâ€œToo many open filesâ€é”™è¯¯ã€‚è¿™é€šå¸¸æ„å‘³ç€æœ‰æœªæ­£ç¡®å…³é—­çš„æ–‡ä»¶æˆ–è¿æ¥ï¼Œå¯¼è‡´æè¿°ç¬¦å ç”¨è¿‡é«˜ã€‚&lt;/p>
&lt;h3 id="æ’æŸ¥æ­¥éª¤">æ’æŸ¥æ­¥éª¤
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>å‘ç°é—®é¢˜&lt;/strong> ï¼šé€šè¿‡ç›‘æ§ç³»ç»Ÿå‘ç°æœåŠ¡çš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡å¼‚å¸¸å¢é•¿ã€‚&lt;/li>
&lt;li>&lt;strong>æŸ¥æ‰¾æœåŠ¡PID&lt;/strong> ï¼šä½¿ç”¨&lt;code>ps aux | grep [æœåŠ¡å]&lt;/code>å‘½ä»¤æ‰¾å‡ºç›®æ ‡æœåŠ¡çš„è¿›ç¨‹IDã€‚&lt;/li>
&lt;li>&lt;strong>æŸ¥çœ‹å½“å‰æœåŠ¡å ç”¨FDæ•°é‡&lt;/strong> ï¼šæ‰§è¡Œ&lt;code>ls /proc/[PID]/fd | wc -l&lt;/code>æ£€æŸ¥æœåŠ¡å½“å‰æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡ã€‚&lt;/li>
&lt;li>&lt;strong>æŸ¥çœ‹FDä½¿ç”¨æƒ…å†µ&lt;/strong> ï¼šè¯¦ç»†åˆ—å‡ºå½“å‰æœåŠ¡çš„æ–‡ä»¶æè¿°ç¬¦ä½¿ç”¨æƒ…å†µï¼Œ&lt;code>ls -ls /proc/[PID]/fd&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>æ£€æŸ¥ç½‘ç»œè¿æ¥&lt;/strong> ï¼šä½¿ç”¨&lt;code>ss -anp |grep [PID]&lt;/code>å‘½ä»¤æŸ¥çœ‹æœåŠ¡ç›¸å…³çš„ç½‘ç»œè¿æ¥ï¼Œå¸®åŠ©å®šä½å¯èƒ½çš„æ³„éœ²æ¥æºã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="å…¸å‹æ¡ˆä¾‹">å…¸å‹æ¡ˆä¾‹
&lt;/h3>&lt;p>ä»¥æŸæœåŠ¡çš„FDæ³„éœ²ä¸ºä¾‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ç°è±¡&lt;/strong> ï¼šæ–‡ä»¶æè¿°ç¬¦æŒç»­å¢é•¿ï¼Œè¾¾åˆ°1w+ã€‚&lt;/li>
&lt;li>&lt;strong>åŸå› &lt;/strong> ï¼šæœåŠ¡åœ¨é«˜QPSï¼ˆ200~300ï¼‰ä¸‹è°ƒç”¨ç¬¬ä¸‰æ–¹éªŒè¯æ¥å£ï¼Œç”±äºHTTPè¿æ¥é»˜è®¤è¶…æ—¶æ—¶é—´è¾ƒé•¿ï¼ˆ60sï¼‰ï¼Œä¸”æœªä¸»åŠ¨å…³é—­è¿æ¥ï¼Œå¯¼è‡´å¤§é‡æè¿°ç¬¦æŒç»­å ç”¨ã€‚&lt;/li>
&lt;li>&lt;strong>å¤ç°&lt;/strong> ï¼šé€šè¿‡è„šæœ¬æ¨¡æ‹Ÿé«˜é¢‘ç‡è¯·æ±‚ï¼ŒæŒç»­è§‚å¯ŸFDæ•°é‡å˜åŒ–ï¼ŒéªŒè¯æ³„éœ²æƒ…å†µã€‚&lt;/li>
&lt;li>&lt;strong>æ’æŸ¥&lt;/strong> ï¼šåˆ©ç”¨ä¸Šè¿°æ­¥éª¤å®šä½åˆ°é—®é¢˜æ¥æºä¸ºHTTPè¯·æ±‚æœªæ­£ç¡®å…³é—­ã€‚&lt;/li>
&lt;li>&lt;strong>ä»£ç ä¿®æ”¹&lt;/strong> ï¼šå¢åŠ äº†è¿æ¥è¶…æ—¶å’Œè¯»å†™è¶…æ—¶è®¾ç½®ï¼Œç¡®ä¿è¿æ¥åœ¨æŒ‡å®šæ—¶é—´å†…è¢«å…³é—­ï¼Œä»è€Œé‡Šæ”¾æè¿°ç¬¦ã€‚&lt;/li>
&lt;li>&lt;strong>ç»“æœ&lt;/strong> ï¼šæœåŠ¡ä½¿ç”¨çš„FDæ•°é‡æ˜¾è‘—ä¸‹é™ï¼Œæ³„éœ²é—®é¢˜å¾—åˆ°è§£å†³ã€‚&lt;/li>
&lt;/ul></description></item><item><title>è®°ä¸€æ¬¡goæœåŠ¡å†…å­˜å ç”¨é«˜æŠ¥è­¦æ’æŸ¥è®°å½•</title><link>https://godvvvzzz.github.io/p/%E8%AE%B0%E4%B8%80%E6%AC%A1go%E6%9C%8D%E5%8A%A1%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E9%AB%98%E6%8A%A5%E8%AD%A6%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/</link><pubDate>Tue, 04 Nov 2025 00:00:28 +0800</pubDate><guid>https://godvvvzzz.github.io/p/%E8%AE%B0%E4%B8%80%E6%AC%A1go%E6%9C%8D%E5%8A%A1%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E9%AB%98%E6%8A%A5%E8%AD%A6%E6%8E%92%E6%9F%A5%E8%AE%B0%E5%BD%95/</guid><description>&lt;hr>
&lt;h1 id="ä¸€æ¬¡-go-æœåŠ¡å†…å­˜å ç”¨é«˜ä½†-pprof-å´æ˜¾ç¤ºæ­£å¸¸çš„æ’æŸ¥ç»å†">ä¸€æ¬¡ Go æœåŠ¡å†…å­˜å ç”¨é«˜ä½† pprof å´æ˜¾ç¤ºæ­£å¸¸çš„æ’æŸ¥ç»å†
&lt;/h1>&lt;p>æœ€è¿‘åœ¨ç”Ÿäº§ç¯å¢ƒä¸­é‡åˆ°ä¸€ä¸ªæŒºâ€œè¯¡å¼‚â€çš„é—®é¢˜ï¼š&lt;strong>Go æœåŠ¡çš„ç‰©ç†å†…å­˜å ç”¨éå¸¸é«˜ï¼Œä½†ç”¨ pprof æŸ¥çœ‹å†…å­˜åˆ†å¸ƒå´å‘ç° Go è‡ªå·±ç»Ÿè®¡çš„å†…å­˜å ç”¨å¹¶ä¸å¤§&lt;/strong>ã€‚è¿™ç¯‡æ–‡ç« è®°å½•ä¸€ä¸‹æ•´ä¸ªæ’æŸ¥å’Œä¼˜åŒ–è¿‡ç¨‹ï¼Œä»¥åŠæˆ‘å¯¹ Go å†…å­˜ç®¡ç†å’Œç³»ç»Ÿè¡Œä¸ºçš„ä¸€äº›ç†è§£ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä¸€é—®é¢˜èƒŒæ™¯">ä¸€ã€é—®é¢˜èƒŒæ™¯
&lt;/h2>&lt;p>æˆ‘ä»¬æœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡æœåŠ¡ï¼Œå®šæœŸä¼šä¸Šä¼ æ–‡ä»¶(å…ˆè¯»å–åˆ°å†…å­˜ä¸­ï¼Œå†ä¸Šä¼ )ã€‚ç›‘æ§å‘Šè­¦é¢‘ç¹æç¤ºè¯¥è¿›ç¨‹å†…å­˜å ç”¨è¶…è¿‡é˜ˆå€¼ï¼Œæ¯”å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Resident Memory (RSS) = 3.5GB
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œè¿™ä¸ªæœåŠ¡æŒ‰ç†è¯´ä¸šåŠ¡é€»è¾‘å¾ˆè½»ï¼Œæ­£å¸¸è¿è¡Œæ—¶ä¸è¯¥è¶…è¿‡ 1GBã€‚&lt;/p>
&lt;p>äºæ˜¯æˆ‘ç™»å½•æœºå™¨ä¸€çœ‹ï¼Œ&lt;code>top&lt;/code> è¾“å‡ºç¡®å®å¾ˆâ€œå“äººâ€ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">22103&lt;/span> root &lt;span class="m">20&lt;/span> &lt;span class="m">0&lt;/span> 4694.7m 3582.4m &lt;span class="m">856&lt;/span> S 0.5 45.7 5:12.23 myservice
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†å½“æˆ‘é€šè¿‡ &lt;code>pprof&lt;/code> åˆ†æå †å†…å­˜æ—¶ï¼Œå‘ç°å®Œå…¨å¯¹ä¸ä¸Šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>pprof&lt;span class="o">)&lt;/span> top
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Showing nodes accounting &lt;span class="k">for&lt;/span> 45.55MB, 93.47% of 48.72MB total
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Showing top &lt;span class="m">10&lt;/span> nodes out of &lt;span class="m">48&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> flat flat% sum% cum cum%
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 20.12MB 41.32% 41.32% 20.12MB 41.32% runtime.allocmcache
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 15.22MB 31.23% 72.55% 15.22MB 31.23% mypackage.&lt;span class="o">(&lt;/span>*Buffer&lt;span class="o">)&lt;/span>.Append
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å †å ç”¨æ‰å‡ å MBï¼ŒåŠ ä¸Šå…¶ä»–ç»„ä»¶ï¼Œæœ€å¤šä¹Ÿå°±ä¸€ä¸¤ç™¾ MBï¼Œè·Ÿ &lt;code>top&lt;/code> æ˜¾ç¤ºçš„ 3GB æ ¹æœ¬ä¸åŒ¹é…ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="äºŒåˆæ­¥åˆ†æ">äºŒã€åˆæ­¥åˆ†æ
&lt;/h2>&lt;p>è¿™ç§ç°è±¡åœ¨ Go æœåŠ¡ä¸­å…¶å®å¹¶ä¸ç½•è§ï¼š
&lt;strong>Go çš„å†…å­˜åˆ†é…å™¨ï¼ˆruntime.mallocgcï¼‰å’Œç³»ç»Ÿå†…å­˜ç®¡ç†ä¹‹é—´å­˜åœ¨ä¸€å±‚ç¼“å­˜ã€‚&lt;/strong>&lt;/p>
&lt;p>ä¹Ÿå°±æ˜¯è¯´ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>pprof çœ‹åˆ°çš„â€œå †å†…å­˜â€æ˜¯ Go è‡ªå·±è®¤ä¸ºâ€œæ­£åœ¨ä½¿ç”¨â€çš„å†…å­˜&lt;/strong>&lt;/li>
&lt;li>&lt;strong>è€Œ top çœ‹åˆ°çš„ RSSï¼ˆResident Set Sizeï¼‰æ˜¯æ“ä½œç³»ç»Ÿå±‚é¢ä¸Šï¼Œè¿™ä¸ªè¿›ç¨‹å®é™…ä¿ç•™çš„ç‰©ç†å†…å­˜&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>Go ä¸ºäº†æå‡æ€§èƒ½ï¼Œä¼šä»ç³»ç»Ÿç”³è¯·ä¸€å¤§å—å†…å­˜ï¼Œç„¶åè‡ªå·±åœ¨ç”¨æˆ·æ€åˆ†é…ä½¿ç”¨ã€‚å½“æŸéƒ¨åˆ†å†…å­˜æš‚æ—¶ä¸ç”¨æ—¶ï¼ŒGo runtime ä¸ä¸€å®šé©¬ä¸Šè¿˜ç»™æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯ä¿ç•™åœ¨â€œç©ºé—²æ± â€é‡Œï¼Œä»¥ä¾¿ä¸‹æ¬¡å¤ç”¨ã€‚è¿™å—å†…å­˜ï¼Œç³»ç»Ÿä¸ä¼šç«‹å³å›æ”¶ï¼Œè€Œæ˜¯åœ¨æœ‰å†…å­˜å‹åŠ›æ—¶æ‰å›æ”¶ã€‚&lt;/p>
&lt;p>è¿™å°±å¯¼è‡´äº†ï¼š&lt;/p>
&lt;blockquote>
&lt;p>Go æœåŠ¡çš„å†…å­˜ä½¿ç”¨é‡ä¸‹é™ï¼Œä½†ç³»ç»Ÿçš„ RSS å¹¶ä¸ä¼šåŒæ­¥å‡å°‘ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä¸‰éªŒè¯çŒœæƒ³">ä¸‰ã€éªŒè¯çŒœæƒ³
&lt;/h2>&lt;p>ä¸ºäº†è¿›ä¸€æ­¥éªŒè¯ï¼Œæˆ‘ç”¨äº†ä»¥ä¸‹å‡ ç§æ–¹æ³•ã€‚&lt;/p>
&lt;h3 id="1-æŸ¥çœ‹-runtimememstats">1. æŸ¥çœ‹ runtime.MemStats
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">m&lt;/span> &lt;span class="nx">runtime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">MemStats&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">runtime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadMemStats&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">m&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Alloc = %v MiB&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Alloc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;TotalAlloc = %v MiB&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TotalAlloc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Sys = %v MiB&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Sys&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;HeapReleased = %v MiB&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">HeapReleased&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¾“å‡ºç±»ä¼¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Alloc = 85 MiB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">TotalAlloc = 325 MiB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Sys = 2048 MiB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">HeapReleased = 128 MiB
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­å‡ ä¸ªå…³é”®å­—æ®µå«ä¹‰å¦‚ä¸‹ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å­—æ®µ&lt;/th>
&lt;th>å«ä¹‰&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Alloc&lt;/td>
&lt;td>åº”ç”¨æ­£åœ¨ä½¿ç”¨çš„å †å†…å­˜&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Sys&lt;/td>
&lt;td>Go å‘æ“ä½œç³»ç»Ÿç”³è¯·çš„æ€»å†…å­˜ï¼ˆåŒ…æ‹¬å †ã€æ ˆã€ç¼“å­˜ç­‰ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>HeapReleased&lt;/td>
&lt;td>Go å·²ç»é‡Šæ”¾ç»™æ“ä½œç³»ç»Ÿçš„å †å†…å­˜&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>HeapIdle - HeapReleased&lt;/td>
&lt;td>Go æŒæœ‰ä½†æš‚æœªé‡Šæ”¾çš„å†…å­˜&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ä»è¿™äº›æ•°æ®å¯ä»¥çœ‹å‡ºï¼š&lt;/p>
&lt;ul>
&lt;li>Go ç¨‹åºåªç”¨äº† 85MB å †ï¼›&lt;/li>
&lt;li>ä½†å‘ç³»ç»Ÿç”³è¯·äº† 2GBï¼›&lt;/li>
&lt;li>å…¶ä¸­ä»… 128MB è¢«é‡Šæ”¾å›ç³»ç»Ÿã€‚&lt;/li>
&lt;/ul>
&lt;p>=&amp;gt; &lt;strong>è¯´æ˜å¤§éƒ¨åˆ†ç©ºé—²å†…å­˜ä»ç„¶åœ¨ Go runtime æ‰‹ä¸Šï¼Œæ²¡æœ‰è¿˜ç»™å†…æ ¸ã€‚&lt;/strong>&lt;/p>
&lt;hr>
&lt;h3 id="2-é€šè¿‡-pprof-æŸ¥çœ‹æ— éœ€æ”¹ä»£ç ">2. é€šè¿‡ pprof æŸ¥çœ‹ï¼ˆæ— éœ€æ”¹ä»£ç ï¼‰
&lt;/h3>&lt;p>å®é™…ä¸Šï¼Œ&lt;code>pprof&lt;/code> çš„ &lt;code>/debug/pprof/heap?debug=1&lt;/code> è¾“å‡ºä¸­ï¼Œå·²ç»åŒ…å«ä¸ &lt;code>runtime.MemStats&lt;/code> åŒæºçš„å†…å­˜ç»Ÿè®¡ä¿¡æ¯ã€‚&lt;/p>
&lt;p>å¯ä»¥ç›´æ¥æ‰§è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl http://&amp;lt;host&amp;gt;:6060/debug/pprof/heap?debug&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¾“å‡ºç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">heap profile: 12: &lt;span class="m">8&lt;/span> &lt;span class="o">[&lt;/span>&lt;span class="m">24576&lt;/span> bytes&lt;span class="o">]&lt;/span>: total 12.3 MB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># runtime.MemStats&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Alloc = 85 MiB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># TotalAlloc = 325 MiB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Sys = 2048 MiB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># HeapReleased = 128 MiB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™äº›å­—æ®µå’Œå‰é¢ &lt;code>runtime.ReadMemStats()&lt;/code> æ‰“å°çš„å†…å®¹ä¸€è‡´ï¼Œä»£è¡¨ï¼š&lt;/p>
&lt;ul>
&lt;li>å½“å‰å †ä½¿ç”¨é‡ï¼ˆAllocï¼‰&lt;/li>
&lt;li>å†å²ç´¯è®¡åˆ†é…é‡ï¼ˆTotalAllocï¼‰&lt;/li>
&lt;li>å‘ç³»ç»Ÿç”³è¯·æ€»é‡ï¼ˆSysï¼‰&lt;/li>
&lt;li>å·²é‡Šæ”¾å›ç³»ç»Ÿçš„éƒ¨åˆ†ï¼ˆHeapReleasedï¼‰&lt;/li>
&lt;/ul>
&lt;p>ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ pprof çš„ &lt;code>heap?debug=1&lt;/code> æ¥å£æ¥åˆ¤æ–­ï¼š&lt;/p>
&lt;ul>
&lt;li>Go å½“å‰çš„å®é™…å †ä½¿ç”¨ï¼›&lt;/li>
&lt;li>ç³»ç»Ÿå±‚é¢ç”³è¯·ä¸å½’è¿˜çš„å·®è·ï¼›&lt;/li>
&lt;li>å†…å­˜æ˜¯å¦è¢« runtime ä¿ç•™æœªé‡Šæ”¾ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦å¤–ï¼Œè¿˜å¯ä»¥ä¸‹è½½å®Œæ•´å †æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl -o heap.out http://&amp;lt;host&amp;gt;:6060/debug/pprof/heap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go tool pprof -http&lt;span class="o">=&lt;/span>:8081 heap.out
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·èƒ½åœ¨æœ¬åœ°ä»¥å›¾å½¢æ–¹å¼ç›´è§‚æŸ¥çœ‹å†…å­˜åˆ†é…å’Œå¯¹è±¡å ç”¨æƒ…å†µã€‚&lt;/p>
&lt;h2 id="å››æ·±å…¥ç†è§£-go-å†…å­˜å›æ”¶ç­–ç•¥">å››ã€æ·±å…¥ç†è§£ Go å†…å­˜å›æ”¶ç­–ç•¥
&lt;/h2>&lt;p>Go çš„å†…å­˜å›æ”¶æœºåˆ¶å…¶å®æœ‰ä¸¤å±‚ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Go å±‚ GCï¼š&lt;/strong> å›æ”¶ç¨‹åºä¸­ä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼Œé‡Šæ”¾åˆ° Go çš„ç©ºé—²å †ä¸­ï¼›&lt;/li>
&lt;li>&lt;strong>ç³»ç»Ÿå±‚é‡Šæ”¾ï¼š&lt;/strong> Go å†³å®šæ˜¯å¦æŠŠç©ºé—²å †ç©ºé—´è¿˜ç»™æ“ä½œç³»ç»Ÿã€‚&lt;/li>
&lt;/ol>
&lt;p>Go é»˜è®¤é€šè¿‡ &lt;code>MADV_FREE&lt;/code>ï¼ˆLinux å†…æ ¸ç‰¹æ€§ï¼‰æ ‡è®°è¿™äº›å†…å­˜åŒºåŸŸä¸ºâ€œå¯é‡ç”¨â€ï¼Œä½†å¹¶ä¸çœŸæ­£æ¸…é™¤æˆ–é‡Šæ”¾å®ƒä»¬ã€‚
æ“ä½œç³»ç»Ÿåœ¨å†…å­˜ç´§å¼ æ—¶ä¼šè‡ªåŠ¨å›æ”¶è¿™äº›åŒºåŸŸï¼Œä½†åœ¨å†…å­˜å®½è£•æ—¶ï¼Œå®ƒä»¬ä¾ç„¶ç®—ä½œ RSSã€‚&lt;/p>
&lt;blockquote>
&lt;p>è¿™æ„å‘³ç€ï¼šä» top è§’åº¦çœ‹ï¼Œè¿™å—å†…å­˜ä»ç„¶è¢«å ç€ï¼›ä½†ä» pprof çœ‹ï¼Œå®ƒå·²ç»â€œç©ºé—²â€ã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="äº”è§£å†³æ€è·¯ä½¿ç”¨-godebug-è°ƒæ•´å›æ”¶ç­–ç•¥">äº”ã€è§£å†³æ€è·¯ï¼šä½¿ç”¨ GODEBUG è°ƒæ•´å›æ”¶ç­–ç•¥
&lt;/h2>&lt;p>Go ä» 1.12 ç‰ˆæœ¬å¼€å§‹æ”¯æŒç¯å¢ƒå˜é‡ &lt;code>GODEBUG=madvdontneed=1&lt;/code> æ¥æ”¹å˜è¿™ç§è¡Œä¸ºã€‚&lt;/p>
&lt;p>é»˜è®¤è¡Œä¸ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">GODEBUG=madvdontneed=0 ï¼ˆå³ä½¿ç”¨ MADV_FREEï¼‰
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¼˜åŒ–åè¡Œä¸ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">GODEBUG=madvdontneed=1 ï¼ˆæ”¹ç”¨ MADV_DONTNEEDï¼‰
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒºåˆ«åœ¨äºï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>MADV_FREE&lt;/code>: å†…å­˜è¢«æ ‡è®°ä¸ºâ€œå¯é‡ç”¨â€ï¼Œä½†ä¸ä¼šç«‹å³å½’è¿˜ç³»ç»Ÿï¼›&lt;/li>
&lt;li>&lt;code>MADV_DONTNEED&lt;/code>: ç«‹å³å‘Šè¯‰å†…æ ¸è¿™éƒ¨åˆ†å†…å­˜å¯ä»¥è¢«å›æ”¶ï¼ŒRSS ä¼šç«‹åˆ»ä¸‹é™ã€‚&lt;/li>
&lt;/ul>
&lt;p>äºæ˜¯æˆ‘å°è¯•åœ¨æœåŠ¡å¯åŠ¨è„šæœ¬ä¸­æ·»åŠ è¿™ä¸€è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">GODEBUG&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">madvdontneed&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶åé‡å¯æœåŠ¡ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å…­ç»“æœéªŒè¯">å…­ã€ç»“æœéªŒè¯
&lt;/h2>&lt;p>è§‚å¯Ÿç°è±¡ï¼š&lt;/p>
&lt;ul>
&lt;li>æœåŠ¡å¯åŠ¨åå†…å­˜å³°å€¼ä»ç„¶ä¼šä¸Šå‡ï¼›&lt;/li>
&lt;li>ä½†å½“è´Ÿè½½ä¸‹é™ã€GC è¿è¡Œåï¼ŒRSS æ˜æ˜¾ä¸‹é™ï¼›&lt;/li>
&lt;li>&lt;code>top&lt;/code> æ˜¾ç¤ºçš„å†…å­˜å ç”¨ä¸ &lt;code>pprof&lt;/code> ç»Ÿè®¡çš„å †å¤§å°æ›´ä¸ºæ¥è¿‘ï¼›&lt;/li>
&lt;li>å†…å­˜å‘Šè­¦æ¶ˆå¤±ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç¤ºä¾‹æ•°æ®ï¼ˆå¯¹æ¯”ä¼˜åŒ–å‰åï¼‰ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>é˜¶æ®µ&lt;/th>
&lt;th>pprof å †å ç”¨&lt;/th>
&lt;th>top RSS å ç”¨&lt;/th>
&lt;th>è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>ä¼˜åŒ–å‰&lt;/td>
&lt;td>100MB&lt;/td>
&lt;td>3.2GB&lt;/td>
&lt;td>Go æœªå½’è¿˜ç©ºé—²å†…å­˜&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ä¼˜åŒ–å&lt;/td>
&lt;td>100MB&lt;/td>
&lt;td>500MB&lt;/td>
&lt;td>Go ä¸»åŠ¨é‡Šæ”¾ç©ºé—²å†…å­˜&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>æ•ˆæœç«‹ç«¿è§å½±ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä¸ƒçŸ¥è¯†ç‚¹æ€»ç»“">ä¸ƒã€çŸ¥è¯†ç‚¹æ€»ç»“
&lt;/h2>&lt;p>è¿™æ¬¡é—®é¢˜æ¶‰åŠå‡ ä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œæ•´ç†å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Go runtime å†…å­˜æ¨¡å‹&lt;/strong>
&lt;ul>
&lt;li>&lt;code>Alloc&lt;/code> æ˜¯ç¨‹åºçœŸå®ä½¿ç”¨çš„ï¼›&lt;/li>
&lt;li>&lt;code>Sys&lt;/code> æ˜¯ä»ç³»ç»Ÿç”³è¯·çš„ï¼›&lt;/li>
&lt;li>Go ä¸ä¸€å®šä¼šé©¬ä¸Šé‡Šæ”¾ç©ºé—²å†…å­˜å›ç³»ç»Ÿã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Linux å†…å­˜ç®¡ç†æœºåˆ¶&lt;/strong>
&lt;ul>
&lt;li>RSSï¼ˆResident Set Sizeï¼‰åæ˜ è¿›ç¨‹å®é™…é©»ç•™ç‰©ç†å†…å­˜ï¼›&lt;/li>
&lt;li>&lt;code>MADV_FREE&lt;/code>ï¼šå»¶è¿Ÿé‡Šæ”¾ï¼›&lt;/li>
&lt;li>&lt;code>MADV_DONTNEED&lt;/code>ï¼šç«‹å³é‡Šæ”¾ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>pprof ä¸ top çš„å·®å¼‚&lt;/strong>
&lt;ul>
&lt;li>pprof ç»Ÿè®¡çš„æ˜¯ Go å†…éƒ¨å†…å­˜ï¼›&lt;/li>
&lt;li>top ç»Ÿè®¡çš„æ˜¯æ“ä½œç³»ç»Ÿå±‚é¢çš„ç‰©ç†å†…å­˜ï¼›&lt;/li>
&lt;li>ä¸¤è€…çš„å·®å¼‚å¾€å¾€ç”± runtime ä¸å†…æ ¸çš„å›æ”¶ç­–ç•¥é€ æˆã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>è°ƒä¼˜æ‰‹æ®µ&lt;/strong>
&lt;ul>
&lt;li>è®¾ç½® &lt;code>GODEBUG=madvdontneed=1&lt;/code>ï¼›&lt;/li>
&lt;li>æˆ–è€…é€šè¿‡ &lt;code>debug.FreeOSMemory()&lt;/code> æ‰‹åŠ¨è§¦å‘ç³»ç»Ÿçº§é‡Šæ”¾ï¼›&lt;/li>
&lt;li>ä¹Ÿå¯é€šè¿‡ &lt;code>GOGC&lt;/code> å‚æ•°æ§åˆ¶ GC é¢‘ç‡å¹³è¡¡æ€§èƒ½ä¸å†…å­˜å ç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="å…«ç»“è¯­">å…«ã€ç»“è¯­
&lt;/h2>&lt;p>è¿™æ¬¡æ’æŸ¥è®©æˆ‘æ›´æ·±åˆ»åœ°ç†è§£äº† Go çš„å†…å­˜è¡Œä¸ºï¼š&lt;strong>Go çš„ GC è´Ÿè´£é€»è¾‘å›æ”¶ï¼Œè€Œå†…æ ¸æ‰è´Ÿè´£ç‰©ç†é‡Šæ”¾ã€‚&lt;/strong>
é»˜è®¤æƒ…å†µä¸‹ Go å€¾å‘äºæ€§èƒ½ä¼˜å…ˆï¼Œä¼šç¼“å­˜ä¸€éƒ¨åˆ†ç©ºé—²å†…å­˜ã€‚ä½†åœ¨æŸäº›åœºæ™¯ï¼ˆæ¯”å¦‚å®šæ—¶ä»»åŠ¡æœåŠ¡ï¼Œæ¯æ¬¡è¿è¡Œæ—¶é—´é—´éš”è¾ƒä¹…ï¼‰ä¸‹ï¼Œæˆ‘ä»¬æ›´å¸Œæœ› Go ç§¯æé‡Šæ”¾ç©ºé—²å†…å­˜ï¼Œè¿™æ—¶å€™ &lt;code>GODEBUG=madvdontneed=1&lt;/code> å°±æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„ä¼˜åŒ–æ‰‹æ®µã€‚&lt;/p>
&lt;hr>
&lt;p>å¦‚æœç”¨ä¸€å¥è¯æ€»ç»“ï¼š&lt;/p>
&lt;blockquote>
&lt;p>pprof çœ‹åˆ°çš„åªæ˜¯â€œGo çœ¼ä¸­çš„ä¸–ç•Œâ€ï¼Œè€Œ top çœ‹åˆ°çš„æ‰æ˜¯â€œæ“ä½œç³»ç»Ÿçœ¼ä¸­çš„ä¸–ç•Œâ€ã€‚ä¸¤è€…çš„å·®å¼‚ï¼Œå¾€å¾€è—ç€æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="å‚è€ƒæ–‡æ¡£">å‚è€ƒæ–‡æ¡£
&lt;/h2>&lt;p>&lt;a class="link" href="https://blog.csdn.net/baidu_32452525/article/details/126886123" target="_blank" rel="noopener"
>Go å†…å­˜é‡Šæ”¾ç­–ç•¥ï¼šMADV_DONTNEED å’Œ MADV_FREE&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://qingwave.github.io/golang_memory_stats/" target="_blank" rel="noopener"
>Golangå†…å­˜é—®é¢˜æ’æŸ¥&lt;/a>
&lt;a class="link" href="https://segmentfault.com/a/1190000022472459" target="_blank" rel="noopener"
>è¸©å‘è®°ï¼šgoæœåŠ¡å†…å­˜æš´æ¶¨&lt;/a>&lt;/p></description></item><item><title>Backend Dev Plan</title><link>https://godvvvzzz.github.io/p/backend-dev-plan/</link><pubDate>Mon, 27 Oct 2025 23:01:41 +0800</pubDate><guid>https://godvvvzzz.github.io/p/backend-dev-plan/</guid><description>&lt;h1 id="-åç«¯å·¥ç¨‹å¸ˆæˆé•¿è·¯å¾„æ¦‚è§ˆ">ğŸ—ºï¸ åç«¯å·¥ç¨‹å¸ˆæˆé•¿è·¯å¾„æ¦‚è§ˆ
&lt;/h1>&lt;p>RoadMap:https://cloud.tencent.com.cn/developer/article/2354207&lt;/p>
&lt;p>&lt;strong>æ ¸å¿ƒç†å¿µ&lt;/strong>ï¼šåç«¯å·¥ç¨‹å¸ˆçš„æˆé•¿æ˜¯ä»â€œå®ç°åŠŸèƒ½â€çš„ç¼–ç è€…ï¼Œè¿›åŒ–ä¸ºâ€œæ„å»ºå¯é ã€é«˜æ•ˆã€å¯æ‰©å±•ç³»ç»Ÿâ€çš„å·¥ç¨‹å¸ˆï¼Œæœ€ç»ˆæˆä¸ºèƒ½å¤Ÿé©¾é©­æŠ€æœ¯ä¸ç¡®å®šæ€§ã€é©±åŠ¨ä¸šåŠ¡å‘å±•çš„å†³ç­–è€…ã€‚&lt;/p>
&lt;ol>
&lt;li>&lt;strong>æ·±æŒ–åº•å±‚ä¸ä¸šåŠ¡ï¼Œç³»ç»Ÿå¥½å¥‡æ˜¯æ ¹åŸº&lt;/strong>ï¼ˆå¥½å¥‡ï¼‰&lt;/li>
&lt;li>&lt;strong>å­¦æŠ½è±¡å»ºä½“ç³»ï¼ŒåŠ¨æ‰‹å®è·µå‡ºçœŸçŸ¥&lt;/strong>ï¼ˆå­¦ä¹ ï¼‰&lt;/li>
&lt;li>&lt;strong>ä¸“ç²¾è®¾è®¡æ‡‚æƒè¡¡ï¼Œæ¶æ„èƒ½åŠ›æ˜¯å£å’&lt;/strong>ï¼ˆæ¶æ„ï¼‰&lt;/li>
&lt;li>&lt;strong>å·¥ç¨‹åä½œææ•ˆèƒ½ï¼Œå½±å“å›¢é˜Ÿå…±è¿›æ­¥&lt;/strong>ï¼ˆå½±å“ï¼‰&lt;/li>
&lt;li>&lt;strong>ä¸¥è°¨éŸ§æ€§ä¿ç¨³å®šï¼Œæ„å»ºçº¿ä¸Šç¡®å®šæ€§&lt;/strong>ï¼ˆä¸¥è°¨ï¼‰&lt;/li>
&lt;li>&lt;strong>åå¸ˆå¼•è·¯ç ´ç“¶é¢ˆï¼ŒåŠ é€Ÿæˆé•¿ä¸ºæ ‹æ¢&lt;/strong>ï¼ˆåŠ é€Ÿï¼‰&lt;/li>
&lt;/ol>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>æˆé•¿ç»´åº¦&lt;/th>
&lt;th>åˆçº§é˜¶æ®µ (ç¼–ç è€…)&lt;/th>
&lt;th>è¿›é˜¶é˜¶æ®µ (å·¥ç¨‹å¸ˆ)&lt;/th>
&lt;th>é«˜çº§é˜¶æ®µ (å†³ç­–è€…)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>æ ¸å¿ƒå…³æ³¨ç‚¹&lt;/strong>&lt;/td>
&lt;td>å®ç°åŠŸèƒ½ã€å®Œæˆéœ€æ±‚&lt;/td>
&lt;td>ç³»ç»Ÿè®¾è®¡ã€æ€§èƒ½ä¼˜åŒ–ã€ç¨³å®šæ€§ä¿éšœ&lt;/td>
&lt;td>æŠ€æœ¯æˆ˜ç•¥ã€ä¸šåŠ¡é©±åŠ¨ã€å›¢é˜Ÿèµ‹èƒ½&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>æŠ€æœ¯æ·±åº¦&lt;/strong>&lt;/td>
&lt;td>å­¦ä¹ æ¡†æ¶ã€APIè°ƒç”¨&lt;/td>
&lt;td>æ·±æŒ–åº•å±‚åŸç†ï¼ˆæ“ä½œç³»ç»Ÿã€ç½‘ç»œã€æ•°æ®åº“ï¼‰&lt;/td>
&lt;td>æ„å»ºæŠ€æœ¯ä½“ç³»ï¼Œå½¢æˆæŠ€æœ¯åˆ¤æ–­åŠ›&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>å½±å“åŠ›èŒƒå›´&lt;/strong>&lt;/td>
&lt;td>ä¸ªäººä»»åŠ¡ã€æ¨¡å—ä»£ç &lt;/td>
&lt;td>å›¢é˜Ÿé¡¹ç›®ã€å·¥ç¨‹è§„èŒƒã€æ¶æ„è®¾è®¡&lt;/td>
&lt;td>è·¨å›¢é˜Ÿåä½œã€æŠ€æœ¯è§„åˆ’ã€äººæ‰åŸ¹å…»&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="-ç»“è®º">ğŸ’¡ ç»“è®º
&lt;/h1>&lt;ol>
&lt;li>
&lt;p>&lt;strong>æ·±åº¦ç³»ç»Ÿå¥½å¥‡å¿ƒï¼šä»â€œæ€ä¹ˆåšâ€åˆ°â€œä¸ºä»€ä¹ˆè¿™ä¹ˆåšâ€&lt;/strong>&lt;/p>
&lt;p>ä¸æ»¡è¶³äºè¡¨é¢åŠŸèƒ½å®ç°ï¼Œè¦ä¸»åŠ¨æ¢ç©¶åº•å±‚åŸç†ï¼ˆå¦‚æ“ä½œç³»ç»Ÿã€ç½‘ç»œåè®®ã€æ•°æ®åº“ï¼‰å’Œä¸šåŠ¡é€»è¾‘çš„æ·±å±‚åŸå› ã€‚è¿™èƒ½è®©ä½ åœ¨å‡ºç°å¤æ‚é—®é¢˜æ—¶å¿«é€Ÿå®šä½æ ¹å› ï¼Œåšå‡ºæ›´æ˜æ™ºçš„æŠ€æœ¯å†³ç­–ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>é«˜æ•ˆå­¦ä¹ ä¸æŠ½è±¡åŠ›&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>æ–¹æ³•&lt;/strong>ï¼šä¼˜å…ˆé˜…è¯»&lt;strong>å®˜æ–¹æ–‡æ¡£å’Œæºç &lt;/strong>ä»¥è·å¾—æœ€å‡†ç¡®ä¿¡æ¯ã€‚&lt;/li>
&lt;li>&lt;strong>å…³é”®&lt;/strong>ï¼šå‹¤äº&lt;strong>åŠ¨æ‰‹å®è·µ&lt;/strong>ï¼Œå¹¶é€šè¿‡&lt;strong>æŠ½è±¡ä¸å½’çº³&lt;/strong>ï¼Œä»çº·ç¹çš„æŠ€æœ¯å’Œä¸šåŠ¡ä¸­æç‚¼å‡ºå…±é€šçš„è®¾è®¡æ¨¡å¼å’Œé¢†åŸŸæ¨¡å‹ï¼Œæ„å»ºè‡ªå·±çš„çŸ¥è¯†ä½“ç³»ã€‚&lt;/li>
&lt;li>&lt;strong>å–„ç”¨å·¥å…·&lt;/strong>ï¼šåˆç†åˆ©ç”¨AIå·¥å…·è¾…åŠ©ä»£ç ç”Ÿæˆã€æŠ€æœ¯è°ƒç ”å’Œé—®é¢˜æ’æŸ¥ï¼Œä½†æ ¸å¿ƒæ˜¯åŸ¹å…»è‡ªèº«çš„æŠ€æœ¯åˆ¤æ–­åŠ›ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>æ¶æ„ä¸è®¾è®¡èƒ½åŠ›ï¼šä»åŠŸèƒ½å®ç°åˆ°ç³»ç»Ÿé›•å¡‘&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>æ‰“é€ æŠ€æœ¯ä¸“é•¿&lt;/strong>ï¼šåœ¨å¹¿åšçš„åŸºç¡€ä¸Šï¼Œé€‰æ‹©ä¸€ä¸ªå¦‚&lt;strong>æ€§èƒ½ä¼˜åŒ–&lt;/strong>ã€&lt;strong>åˆ†å¸ƒå¼ç³»ç»Ÿ&lt;/strong>æˆ–&lt;strong>å®‰å…¨ç¨³å®šæ€§&lt;/strong>ç­‰é«˜ä»·å€¼é¢†åŸŸè¿›è¡Œæ·±åº¦é’»ç ”ï¼Œå»ºç«‹ä¸ªäººæŠ€æœ¯å“ç‰Œã€‚&lt;/li>
&lt;li>&lt;strong>æŒæ¡æƒè¡¡è‰ºæœ¯&lt;/strong>ï¼šæ·±åˆ»ç†è§£å¹¶åœ¨æ€§èƒ½ä¸æˆæœ¬ã€ä¸€è‡´æ€§ä¸å¯ç”¨æ€§ç­‰å…³é”®ç»´åº¦ä¹‹é—´åšå‡ºæ˜æ™ºçš„æƒè¡¡ã€‚&lt;/li>
&lt;li>&lt;strong>è¾“å‡ºè“å›¾&lt;/strong>ï¼šèƒ½å¤Ÿäº§å‡ºæ¸…æ™°çš„æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£å’Œæ¶æ„å›¾ï¼Œå¹¶æ¸…æ™°åœ°é˜è¿°å…¶èƒŒåçš„æ€è€ƒã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>å·¥ç¨‹ä¸åä½œå½±å“åŠ›ï¼šä»ä¸ªäººè´¡çŒ®è€…åˆ°å›¢é˜Ÿæ æ†&lt;/strong>&lt;/p>
&lt;p>ä½ çš„ä»·å€¼ä¸å†ä»…ä»…æ˜¯ä½ å†™äº†å¤šå°‘ä»£ç ï¼Œè€Œåœ¨äºä½ å¦‚ä½•æå‡æ•´ä¸ªå›¢é˜Ÿçš„æ•ˆèƒ½ã€‚è¿™åŒ…æ‹¬ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>å¯¹ä»£ç &lt;/strong>ï¼šå…·å¤‡â€œä»£ç æ´ç™–â€ï¼Œç§¯ææ¨åŠ¨å·¥ç¨‹è§„èŒƒã€‚&lt;/li>
&lt;li>&lt;strong>å¯¹å›¢é˜Ÿ&lt;/strong>ï¼šåœ¨è¯„å®¡ä¸­æä¾›æ·±åº¦åé¦ˆï¼Œä¸»åŠ¨åˆ†äº«çŸ¥è¯†ï¼Œ&lt;strong>èµ‹èƒ½ä»–äºº&lt;/strong>ã€‚&lt;/li>
&lt;li>&lt;strong>å¯¹ä¸šåŠ¡&lt;/strong>ï¼šä¸»åŠ¨æ²Ÿé€šï¼Œç†è§£ä¸šåŠ¡èƒŒæ™¯ï¼Œç”¨æŠ€æœ¯æ‰‹æ®µç›´æ¥åˆ›é€ ä¸šåŠ¡ä»·å€¼ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ä¸¥è°¨ä¸éŸ§æ€§ï¼šåœ¨ä¸ç¡®å®šæ€§ä¸­æ„å»ºç¡®å®šæ€§&lt;/strong>&lt;/p>
&lt;p>è¿™æ˜¯åç«¯å·¥ç¨‹å¸ˆçš„åŸºçŸ³ç´ å…»ã€‚è¦å¯¹çº¿ä¸Šç¯å¢ƒæŠ±æœ‰&lt;strong>æ•¬ç•ä¹‹å¿ƒ&lt;/strong>ï¼Œé€šè¿‡å®Œå–„çš„æ—¥å¿—ã€ç›‘æ§å’Œç³»ç»Ÿæ€§æ€ç»´æ¥ä¿éšœç¨³å®šæ€§ã€‚é¢å¯¹æ•…éšœå’Œéš¾é¢˜ï¼Œè¦å…·å¤‡å†·é™æ’æŸ¥å’Œå½»åº•å¤ç›˜çš„èƒ½åŠ›ï¼Œå¹¶æ‹¥æœ‰â€œæ­»ç£•â€çš„éŸ§æ€§ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>å…³é”®åŠ é€Ÿå™¨ï¼šå¯»æ‰¾â€œæ¶æ„å¸ˆå¯¼å¸ˆâ€&lt;/strong>&lt;/p>
&lt;p>ä¸€ä½ç»éªŒä¸°å¯Œçš„å¯¼å¸ˆèƒ½åœ¨ä½ é¢ä¸´æŠ€æœ¯æŠ‰æ‹©æ—¶ç‚¹æ‹¨è¿·æ´¥ï¼Œåˆ†äº«å®è´µçš„è¸©å‘ç»éªŒï¼Œå¹¶é€šè¿‡é«˜æ ‡å‡†çš„ä»£ç è¯„å®¡æä¾›æˆé•¿åé¦ˆã€‚ä½ å¯ä»¥ä»å›¢é˜Ÿå†…éƒ¨æˆ–å¤–éƒ¨æŠ€æœ¯ç¤¾åŒºä¸­å¯»æ‰¾è¿™æ ·çš„å¼•è·¯äººã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h1 id="-ç»†èŠ‚">ğŸ’ ç»†èŠ‚
&lt;/h1>&lt;h2 id="ä¸€æ·±åº¦ç³»ç»Ÿå¥½å¥‡å¿ƒä»æ€ä¹ˆåšåˆ°ä¸ºä»€ä¹ˆè¿™ä¹ˆåš">ä¸€ã€æ·±åº¦ç³»ç»Ÿå¥½å¥‡å¿ƒï¼šä»â€œæ€ä¹ˆåšâ€åˆ°â€œä¸ºä»€ä¹ˆè¿™ä¹ˆåšâ€
&lt;/h2>&lt;p>&lt;strong>å¯¹è±¡ä¸è¡ŒåŠ¨&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>åº•å±‚åŸç†&lt;/strong>ï¼šä¸æ»¡è¶³äºAPIè°ƒç”¨ï¼Œæ·±æŒ–æ“ä½œç³»ç»Ÿï¼ˆè¿›ç¨‹/çº¿ç¨‹/IOï¼‰ã€ç½‘ç»œï¼ˆTCP/IP/HTTPï¼‰ã€æ•°æ®åº“ï¼ˆç´¢å¼•/äº‹åŠ¡/é”ï¼‰ã€ä¸­é—´ä»¶ï¼ˆæ¶ˆæ¯é˜Ÿåˆ—/ç¼“å­˜ï¼‰çš„å·¥ä½œåŸç†ã€‚&lt;/li>
&lt;li>&lt;strong>ä¸šåŠ¡é€»è¾‘&lt;/strong>ï¼šæ·±å…¥ç†è§£ä½ æ‰€æ”¯æŒçš„ä¸šåŠ¡é¢†åŸŸï¼ˆå¦‚ç”µå•†ã€ç¤¾äº¤ã€é‡‘èï¼‰ï¼Œæ˜ç™½æ¯ä¸€è¡Œä»£ç èƒŒåçš„å•†ä¸šæ„å›¾å’Œç”¨æˆ·ä»·å€¼ã€‚&lt;/li>
&lt;li>&lt;strong>ä¾èµ–ç”Ÿæ€&lt;/strong>ï¼šäº†è§£ä½ ä½¿ç”¨çš„æ¡†æ¶ã€ç»„ä»¶ã€äº‘æœåŠ¡çš„æ ¸å¿ƒæœºåˆ¶ã€ä¼˜åŠ£å’Œè¾¹ç•Œã€‚çŸ¥å…¶ç„¶ï¼Œå¹¶çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚&lt;/li>
&lt;li>&lt;strong>å…¨å±€æ¶æ„&lt;/strong>ï¼šè·³å‡ºè‡ªå·±çš„ä¸€äº©ä¸‰åˆ†åœ°ï¼Œå»ç†è§£æ•´ä¸ªç³»ç»Ÿçš„æ¶æ„è®¾è®¡ã€æ¨¡å—åˆ’åˆ†ã€æ•°æ®æµã€éƒ¨ç½²æµç¨‹ä»¥åŠå®ƒä»¬ä¸ºä½•å¦‚æ­¤è®¾è®¡ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ç›®çš„&lt;/strong>ï¼šåœ¨å‡ºç°ç–‘éš¾æ‚ç—‡æ—¶ï¼Œèƒ½å¿«é€Ÿå®šä½æ ¹å› ï¼›åœ¨è®¾è®¡æ–¹æ¡ˆæ—¶ï¼Œèƒ½åšå‡ºæ›´ç¬¦åˆåº•å±‚åŸç†å’Œé•¿æœŸå‘å±•çš„æ˜æ™ºé€‰æ‹©ã€‚&lt;/p>
&lt;h2 id="äºŒé«˜æ•ˆå­¦ä¹ ä¸æŠ½è±¡åŠ›åœ¨æŠ€æœ¯æµªæ½®ä¸­å±¹ç«‹ä¸å€’">äºŒã€é«˜æ•ˆå­¦ä¹ ä¸æŠ½è±¡åŠ›ï¼šåœ¨æŠ€æœ¯æµªæ½®ä¸­å±¹ç«‹ä¸å€’
&lt;/h2>&lt;p>&lt;strong>æ ¸å¿ƒæ–¹æ³•&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>å®˜æ–¹æ–‡æ¡£ä¼˜å…ˆï¼ˆæ·±åº¦è®¿è°ˆï¼‰&lt;/strong>ï¼šåƒäº§å“ç»ç†è®¿è°ˆç”¨æˆ·ä¸€æ ·ï¼Œç²¾è¯»å®˜æ–¹æ–‡æ¡£å’Œæºç ï¼Œè¿™æ˜¯æœ€ä¸€æ‰‹ã€æœ€å‡†ç¡®çš„ä¿¡æ¯ã€‚åšå®¢å’ŒäºŒæ‰‹æ•™ç¨‹ï¼ˆç”µè¯è®¿è°ˆï¼‰å¯ä½œä¸ºè¾…åŠ©ï¼Œä½†ä¸èƒ½æ›¿ä»£ã€‚&lt;/li>
&lt;li>&lt;strong>åŠ¨æ‰‹å®è·µï¼ˆæ„å»ºåŸå‹ï¼‰&lt;/strong>ï¼šå­¦ä¹ æ–°æŠ€æœ¯æ—¶ï¼Œäº²æ‰‹æ­å»ºã€å†™Demoã€åšå‹æµ‹ï¼Œåœ¨å®è·µä¸­æ„Ÿå—å…¶ç‰¹æ€§å’Œç“¶é¢ˆã€‚&lt;/li>
&lt;li>&lt;strong>æŠ½è±¡ä¸å½’çº³&lt;/strong>ï¼šä»çº·ç¹å¤æ‚çš„æŠ€æœ¯å’Œä¸šåŠ¡é€»è¾‘ä¸­ï¼ŒæŠ½è±¡å‡ºå…±é€šçš„è®¾è®¡æ¨¡å¼ã€æ¶æ„æ¨¡å¼å’Œé¢†åŸŸæ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œèƒ½å¦å°†ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚æŠ½è±¡ä¸ºç»Ÿä¸€çš„ä»»åŠ¡è°ƒåº¦æ¨¡å‹ï¼Ÿ&lt;/li>
&lt;li>AIé«˜æ•ˆè¾…åŠ©ï¼š
&lt;ul>
&lt;li>ä»£ç ç”Ÿæˆä¸è§£é‡Šï¼šè®©AIç”Ÿæˆæ ·æ¿ä»£ç ã€å•å…ƒæµ‹è¯•ã€æˆ–è§£é‡Šä¸€æ®µå¤æ‚çš„é—ç•™ä»£ç ã€‚&lt;/li>
&lt;li>æŠ€æœ¯è°ƒç ”ï¼šå¿«é€Ÿè·å–ä¸åŒæŠ€æœ¯æ–¹æ¡ˆçš„å¯¹æ¯”ã€æœ€ä½³å®è·µå’Œæ½œåœ¨é£é™©ã€‚&lt;/li>
&lt;li>é—®é¢˜æ’æŸ¥ï¼šæä¾›é”™è¯¯æ—¥å¿—ï¼Œè®©AIè¾…åŠ©åˆ†æå¯èƒ½çš„åŸå› ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æ ¸å¿ƒ&lt;/strong>ï¼šæ„å»ºè‡ªå·±çš„çŸ¥è¯†ä½“ç³»å’ŒæŠ€æœ¯åˆ¤æ–­åŠ›ï¼Œèƒ½å¿«é€Ÿç”„åˆ«æŠ€æœ¯çš„ä»·å€¼ï¼Œå¹¶å°†å…¶æŠ½è±¡ä¸ºå¯å¤ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œéè¢«åŠ¨åœ°è¿½é€æœ€æ–°åè¯ã€‚&lt;/p>
&lt;h2 id="ä¸‰æ¶æ„ä¸è®¾è®¡èƒ½åŠ›ä»åŠŸèƒ½å®ç°åˆ°ç³»ç»Ÿé›•å¡‘">ä¸‰ã€æ¶æ„ä¸è®¾è®¡èƒ½åŠ›ï¼šä»åŠŸèƒ½å®ç°åˆ°ç³»ç»Ÿé›•å¡‘
&lt;/h2>&lt;p>&lt;strong>è¡ŒåŠ¨ç­–ç•¥&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>æ‰“é€ æŠ€æœ¯â€œåˆ©åŸºâ€ï¼šåœ¨å¹¿åº¦ä¹‹ä¸Šï¼Œé€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªé«˜ä»·å€¼é¢†åŸŸæ·±åº¦é’»ç ”ï¼Œå»ºç«‹æŠ€æœ¯å“ç‰Œï¼Œä¾‹å¦‚ï¼š
&lt;ul>
&lt;li>æ€§èƒ½ä¼˜åŒ–ä¸“å®¶ï¼šæ·±å…¥JVM/GCã€æ•°æ®åº“è°ƒä¼˜ã€ç¼“å­˜ä½“ç³»ã€é«˜å¹¶å‘æœåŠ¡ã€‚&lt;/li>
&lt;li>åˆ†å¸ƒå¼ç³»ç»Ÿä¸“å®¶ï¼šç²¾é€šå¾®æœåŠ¡æ²»ç†ã€åˆ†å¸ƒå¼äº‹åŠ¡ã€ä¸€è‡´æ€§åè®®ã€å¼¹æ€§è®¾è®¡ã€‚&lt;/li>
&lt;li>æ•°æ®é¢†åŸŸä¸“å®¶ï¼šæ·±è€•å¤§æ•°æ®å¹³å°ã€å®æ—¶è®¡ç®—ã€æ•°æ®ä»“åº“ä¸æ¹–ä»“ä¸€ä½“ã€‚&lt;/li>
&lt;li>å®‰å…¨ä¸ç¨³å®šæ€§ä¸“å®¶ï¼šä¸“ç²¾äºæ¶æ„å®‰å…¨ã€æµé‡é˜²æŠ¤ã€æ•…éšœæ¼”ç»ƒã€SLAä¿éšœã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>è®¾è®¡åŸåˆ™ä¸æƒè¡¡&lt;/strong>ï¼šæŒæ¡SOLIDã€DRYã€KISSç­‰è®¾è®¡åŸåˆ™ï¼Œå¹¶èƒ½åœ¨å®é™…è®¾è®¡ä¸­çµæ´»è¿ç”¨ã€‚æ·±åˆ»ç†è§£å¹¶åœ¨æ€§èƒ½VSæˆæœ¬ã€ä¸€è‡´æ€§VSå¯ç”¨æ€§ã€å¼€å‘æ•ˆç‡VSç³»ç»Ÿç¨³å®šæ€§ã€æŠ€æœ¯å‰ç»æ€§VSå›¢é˜ŸæŠ€æœ¯æ ˆä¹‹é—´åšå‡ºæ˜æ™ºçš„æƒè¡¡ã€‚&lt;/li>
&lt;li>&lt;strong>è¾“å‡ºè“å›¾&lt;/strong>ï¼šèƒ½å¤Ÿäº§å‡ºæ¸…æ™°çš„æŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£ã€æ¶æ„å›¾ï¼Œå¹¶èƒ½æ¸…æ™°åœ°é˜è¿°æŠ€æœ¯é€‰å‹ç†ç”±ã€æ½œåœ¨é£é™©å’Œæ¼”è¿›è·¯çº¿ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ç›®æ ‡&lt;/strong>ï¼šä»â€œå®ç°ä¸€ä¸ªæ¥å£â€çš„è§†è§’ï¼Œä¸Šå‡åˆ°â€œè®¾è®¡ä¸€ä¸ªä¼˜é›…ã€å¥å£®ã€æ˜“äºæ¼”è¿›çš„æœåŠ¡â€çš„å±‚é¢ï¼Œæˆä¸ºå›¢é˜Ÿçš„æŠ€æœ¯è®¾è®¡æ ¸å¿ƒã€‚&lt;/p>
&lt;h2 id="å››å·¥ç¨‹ä¸åä½œå½±å“åŠ›ä»ä¸ªäººè´¡çŒ®è€…åˆ°å›¢é˜Ÿæ æ†">å››ã€å·¥ç¨‹ä¸åä½œå½±å“åŠ›ï¼šä»ä¸ªäººè´¡çŒ®è€…åˆ°å›¢é˜Ÿæ æ†
&lt;/h2>&lt;p>&lt;strong>å¦‚ä½•å‡çº§&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>å¯¹ä»£ç ä¸å·¥ç¨‹ï¼š
&lt;ul>
&lt;li>ä»£ç æ´ç™–ï¼šå†™å‡ºæ¸…æ™°ã€å¯è¯»ã€å¯ç»´æŠ¤çš„ä»£ç ï¼Œè§†ä¸ºèŒä¸šç´ å…»ã€‚ç§¯æé‡æ„ï¼Œå¿è¿˜æŠ€æœ¯å€ºã€‚&lt;/li>
&lt;li>å·¥ç¨‹è§„èŒƒæ¨åŠ¨è€…ï¼šä¸»åŠ¨æ¨åŠ¨å›¢é˜Ÿçš„ä»£ç è§„èŒƒã€CI/CDæµç¨‹ã€å•å…ƒæµ‹è¯•è¦†ç›–ç‡ã€æ–‡æ¡£æ–‡åŒ–ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>å¯¹åŒäº‹ä¸å›¢é˜Ÿï¼š
&lt;ul>
&lt;li>é«˜æ•ˆåä½œï¼šåœ¨è®¾è®¡è¯„å®¡ã€ä»£ç è¯„å®¡ä¸­æä¾›å»ºè®¾æ€§ã€æœ‰æ·±åº¦çš„åé¦ˆï¼Œå¸®åŠ©å›¢é˜Ÿå…±åŒæˆé•¿ã€‚&lt;/li>
&lt;li>çŸ¥è¯†ä¼ æ‰¿ï¼šä¸»åŠ¨åˆ†äº«æŠ€æœ¯éš¾ç‚¹ã€è®¾è®¡æ€è·¯å’Œå¤ç›˜æ€»ç»“ï¼Œå°†ä¸ªäººèƒ½åŠ›è½¬åŒ–ä¸ºå›¢é˜Ÿèµ„äº§ã€‚&lt;/li>
&lt;li>èµ‹èƒ½ä»–äººï¼šè®¾è®¡æ˜“äºç†è§£å’Œä½¿ç”¨çš„æ¥å£ã€SDKã€å¹³å°å·¥å…·ï¼Œé™ä½ä»–äººçš„ä½¿ç”¨æˆæœ¬ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>å¯¹ä¸šåŠ¡ä¸äº§å“ï¼š
&lt;ul>
&lt;li>ä¸»åŠ¨æ²Ÿé€šï¼šä¸»åŠ¨ä¸äº§å“/å‰ç«¯æ²Ÿé€šï¼Œäº†è§£ä¸šåŠ¡èƒŒæ™¯ï¼Œè¯†åˆ«æŠ€æœ¯é£é™©ï¼Œæå‡ºæ›´ä¼˜çš„æŠ€æœ¯å®ç°æ–¹æ¡ˆï¼Œè€Œä¸ä»…ä»…æ˜¯è¢«åŠ¨æ¥æ”¶éœ€æ±‚ã€‚&lt;/li>
&lt;li>ç”¨æŠ€æœ¯åˆ›é€ ä»·å€¼ï¼šé€šè¿‡æŠ€æœ¯æ‰‹æ®µï¼ˆå¦‚å¼•å…¥ç¼“å­˜ã€ä¼˜åŒ–æŸ¥è¯¢ï¼‰ç›´æ¥å¸¦æ¥ä¸šåŠ¡æŒ‡æ ‡ï¼ˆå¦‚å“åº”æ—¶é—´ã€ååé‡ï¼‰çš„æå‡ï¼Œå¹¶æ¸…æ™°åœ°å±•ç¤ºå…¶ä»·å€¼ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æ ¸å¿ƒ&lt;/strong>ï¼šä»·å€¼ä¸å†ä»…ä»…æ˜¯å†™äº†å¤šå°‘è¡Œä»£ç ï¼Œè€Œæ˜¯å¦‚ä½•é€šè¿‡æŠ€æœ¯èƒ½åŠ›ã€å·¥ç¨‹ç´ å…»å’Œåä½œç²¾ç¥ï¼Œæå‡æ•´ä¸ªå›¢é˜Ÿçš„äº§å‡ºæ•ˆç‡å’Œè´¨é‡ã€‚&lt;/p>
&lt;h2 id="äº”ä¸¥è°¨ä¸éŸ§æ€§åœ¨å¤æ‚æ€§ä¸ä¸ç¡®å®šæ€§ä¸­æ„å»ºç¡®å®šæ€§">äº”ã€ä¸¥è°¨ä¸éŸ§æ€§ï¼šåœ¨å¤æ‚æ€§ä¸ä¸ç¡®å®šæ€§ä¸­æ„å»ºç¡®å®šæ€§
&lt;/h2>&lt;p>&lt;strong>å¿…å¤‡ç‰¹è´¨&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸¥è°¨æ€§ï¼š
&lt;ul>
&lt;li>æ•¬ç•çº¿ä¸Šï¼šå¯¹æ¯ä¸€æ¬¡å˜æ›´éƒ½æŠ±æœ‰æ•¬ç•ä¹‹å¿ƒï¼Œä¸¥æ ¼éµå®ˆä¸Šçº¿æµç¨‹ï¼Œåšå¥½å›æ»šé¢„æ¡ˆã€‚&lt;/li>
&lt;li>æ—¥å¿—ä¸ç›‘æ§ï¼šåšä¿¡â€œå¯è§‚æµ‹æ€§æ˜¯æœ€å¥½çš„åŒ»ç”Ÿâ€ï¼Œä¸ºè‡ªå·±å¼€å‘çš„æœåŠ¡è®¾è®¡å®Œå–„çš„æ—¥å¿—ã€ç›‘æ§å’Œå‘Šè­¦ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ç³»ç»Ÿæ€§æ€ç»´ï¼š
&lt;ul>
&lt;li>è€ƒè™‘é—®é¢˜æ—¶ï¼Œèƒ½æƒ³åˆ°ä¸Šä¸‹æ¸¸ä¾èµ–ã€æµé‡æ´ªå³°ã€å•ç‚¹æ•…éšœã€å®‰å…¨æ¼æ´ç­‰æ–¹æ–¹é¢é¢ã€‚&lt;/li>
&lt;li>å…»æˆâ€œå¦‚æœ&amp;hellip;ä¼š&amp;hellip;â€çš„æ€ç»´ä¹ æƒ¯ï¼Œæå‰é¢„åˆ¤é£é™©ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>é—®é¢˜é©±åŠ¨ä¸éŸ§æ€§ï¼š
&lt;ul>
&lt;li>é¢å¯¹çº¿ä¸Šæ•…éšœï¼Œèƒ½å†·é™ã€æ¸…æ™°ã€æŒ‰ä¼˜å…ˆçº§åœ°è¿›è¡Œæ’æŸ¥ã€å®šä½å’Œä¿®å¤ï¼Œå¹¶äº‹åè¿›è¡Œå½»åº•å¤ç›˜ã€‚&lt;/li>
&lt;li>é¢å¯¹æŠ€æœ¯éš¾é¢˜ï¼Œæœ‰â€œæ­»ç£•â€çš„ç²¾ç¥ï¼Œä¹äºé’»è¿›å¤æ‚çš„ä»£ç åº“å’Œæ—¥å¿—ä¸­å¯»æ‰¾çº¿ç´¢ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>è€å¿ƒä¸è¿œè§ï¼šæ‡‚å¾—â€œæ…¢å°±æ˜¯å¿«â€ï¼Œåœ¨å‰æœŸæŠ•å…¥è¶³å¤Ÿçš„è®¾è®¡å’Œæµ‹è¯•æ—¶é—´ï¼Œé¿å…åæœŸæ— å°½çš„ä¿®è¡¥ã€‚å¯¹æŠ€æœ¯ä½“ç³»çš„å»ºè®¾æœ‰é•¿æœŸä¸»ä¹‰çš„è€å¿ƒã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="å…­å…³é”®åŠ é€Ÿå™¨å¯»æ‰¾ä½ çš„æ¶æ„å¸ˆå¯¼å¸ˆarchitect-mentor">å…­ã€å…³é”®åŠ é€Ÿå™¨ï¼šå¯»æ‰¾ä½ çš„â€œæ¶æ„å¸ˆå¯¼å¸ˆâ€ï¼ˆArchitect Mentorï¼‰
&lt;/h2>&lt;p>&lt;strong>ä¸ºä»€ä¹ˆè‡³å…³é‡è¦&lt;/strong>ï¼šåç«¯æŠ€æœ¯çš„æ·±åº¦å’Œæ¶æ„è®¾è®¡çš„è‰ºæœ¯ï¼Œéœ€è¦é«˜äººæŒ‡ç‚¹ã€‚ä¸€ä½å¥½çš„å¯¼å¸ˆèƒ½å¸®ä½ ï¼š&lt;/p>
&lt;ul>
&lt;li>ç‚¹æ‹¨è¿·æ´¥ï¼šåœ¨ä½ é¢å¯¹å¤šä¸ªæŠ€æœ¯æ–¹æ¡ˆçŠ¹è±«ä¸å†³æ—¶ï¼Œä¸€é’ˆè§è¡€åœ°æŒ‡å‡ºä¼˜åŠ£å’ŒèƒŒåçš„æƒè¡¡ã€‚&lt;/li>
&lt;li>ä¼ æˆâ€œå†…åŠŸâ€ï¼šåˆ†äº«ä»–è¸©è¿‡çš„å‘ã€è§£å†³é—®é¢˜çš„æ€ç»´æ¨¡å¼ã€æ¶æ„æ¼”è¿›çš„å†ç¨‹ï¼Œè¿™äº›æ˜¯æ— ä»·ä¹‹å®ã€‚&lt;/li>
&lt;li>ä»£ç ä¸è®¾è®¡è¯„å®¡ï¼šä»¥æé«˜çš„æ ‡å‡†è¯„å®¡ä½ çš„ä»£ç å’Œè®¾è®¡ï¼Œè®©ä½ çœ‹åˆ°å·®è·å’Œæå‡æ–¹å‘ã€‚&lt;/li>
&lt;li>æä¾›èˆå°ï¼šç»™äºˆä½ è´Ÿè´£æ›´å…·æŒ‘æˆ˜æ€§æ¨¡å—çš„æœºä¼šï¼Œåœ¨å®æˆ˜ä¸­é”»ç‚¼ä½ ã€‚&lt;/li>
&lt;li>èŒä¸šå¯¼èˆªï¼šå¸®ä½ è§„åˆ’åœ¨æŠ€æœ¯ï¼ˆä¸“å®¶è·¯çº¿/ç®¡ç†è·¯çº¿ï¼‰ä¸Šçš„æˆé•¿è·¯å¾„ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>å¦‚ä½•å¯»æ‰¾&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>å†…éƒ¨&lt;/strong>ï¼šä½ çš„æŠ€æœ¯ä¸»ç®¡ã€æ¶æ„å¸ˆå›¢é˜Ÿä¸­çš„èµ„æ·±æˆå‘˜ã€ä½ æ•¬ä½©çš„å…¶ä»–æŠ€æœ¯å›¢é˜Ÿè´Ÿè´£äººã€‚&lt;/li>
&lt;li>&lt;strong>å¤–éƒ¨&lt;/strong>ï¼šæŠ€æœ¯ç¤¾åŒº/å¤§ä¼šä¸Šçš„æ¼”è®²è€…ã€å¼€æºé¡¹ç›®è´Ÿè´£äººã€æŠ€æœ¯åšå®¢çš„ä½œè€…ã€‚&lt;/li>
&lt;li>&lt;strong>å…³é”®&lt;/strong>ï¼šå¸¦ç€ä½ æ€è€ƒè¿‡çš„æŠ€æœ¯æ–¹æ¡ˆã€é‡åˆ°çš„å…·ä½“éš¾é¢˜ã€æˆ–è€…é˜…è¯»æºç åçš„å›°æƒ‘å»è¯·æ•™ï¼Œè®©å¯¹æ–¹çœ‹åˆ°ä½ çš„æ½œåŠ›å’Œè¯šæ„ã€‚&lt;/li>
&lt;/ul></description></item><item><title>å‰åç«¯åŸŸåä½¿ç”¨æ¢è®¨</title><link>https://godvvvzzz.github.io/p/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%9F%9F%E5%90%8D%E4%BD%BF%E7%94%A8%E6%8E%A2%E8%AE%A8/</link><pubDate>Thu, 27 Feb 2025 00:49:52 +0800</pubDate><guid>https://godvvvzzz.github.io/p/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%9F%9F%E5%90%8D%E4%BD%BF%E7%94%A8%E6%8E%A2%E8%AE%A8/</guid><description>&lt;hr>
&lt;h2 id="æ ¸å¿ƒåŸåˆ™">&lt;strong>æ ¸å¿ƒåŸåˆ™&lt;/strong>
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">è®¿é—®åœºæ™¯&lt;/th>
&lt;th style="text-align:center">æ¨èåŸŸåç±»å‹&lt;/th>
&lt;th style="text-align:center">è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">&lt;strong>å‰ç«¯ â†’ åç«¯æ¥å£&lt;/strong>&lt;/td>
&lt;td style="text-align:center">å†…ç½‘åŸŸå/IP&lt;/td>
&lt;td style="text-align:center">å‰ç«¯ä¸åç«¯éƒ¨ç½²åœ¨åŒä¸€å†…ç½‘ï¼Œé€šè¿‡åå‘ä»£ç†é€šä¿¡ï¼Œå‡å°‘å…¬ç½‘æš´éœ²é£é™©ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;strong>å®¢æˆ·ç«¯ â†’ åç«¯æ¥å£&lt;/strong>&lt;/td>
&lt;td style="text-align:center">å¤–ç½‘åŸŸå&lt;/td>
&lt;td style="text-align:center">å®¢æˆ·ç«¯ï¼ˆå¦‚ç§»åŠ¨ç«¯ã€ç¬¬ä¸‰æ–¹ï¼‰éœ€é€šè¿‡å…¬ç½‘è®¿é—®ï¼Œéœ€æš´éœ²å¤–ç½‘åŸŸåå¹¶åŠ å›ºå®‰å…¨ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h2 id="å…¸å‹åœºæ™¯åŠé…ç½®æ–¹æ¡ˆ">&lt;strong>å…¸å‹åœºæ™¯åŠé…ç½®æ–¹æ¡ˆ&lt;/strong>
&lt;/h2>&lt;h3 id="åœºæ™¯1çº¯webåº”ç”¨ä»…å‰ç«¯è°ƒç”¨åç«¯">&lt;strong>åœºæ™¯1ï¼šçº¯Webåº”ç”¨ï¼ˆä»…å‰ç«¯è°ƒç”¨åç«¯ï¼‰&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>æ¶æ„ç‰¹ç‚¹&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>å‰ç«¯éƒ¨ç½²åœ¨å…¬ç½‘ï¼ˆå¦‚Nginx/CDNï¼‰ï¼Œåç«¯åœ¨å†…ç½‘ã€‚&lt;/li>
&lt;li>æ‰€æœ‰æ¥å£ä»…ç”±å‰ç«¯è°ƒç”¨ï¼Œ&lt;strong>å®¢æˆ·ç«¯ä¸ç›´æ¥è®¿é—®åç«¯&lt;/strong>ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>é…ç½®æ–¹æ¡ˆ&lt;/strong>ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>å‰ç«¯è°ƒç”¨åç«¯&lt;/strong>ï¼šNginxä½¿ç”¨å†…ç½‘åŸŸå/IPä»£ç†åç«¯æœåŠ¡ï¼ˆå¦‚ &lt;code>proxy_pass http://internal-api.example.com&lt;/code>ï¼‰ã€‚&lt;/li>
&lt;li>&lt;strong>å®¢æˆ·ç«¯è®¿é—®&lt;/strong>ï¼šä»…è®¿é—®å‰ç«¯åŸŸåï¼ˆå¦‚ &lt;code>https://www.example.com&lt;/code>ï¼‰ï¼Œä¸æš´éœ²åç«¯æ¥å£ã€‚&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å‰ç«¯Nginxé…ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">location&lt;/span> &lt;span class="s">/api/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://internal-api.example.com:8080&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># å†…ç½‘åŸŸå
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">Host&lt;/span> &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="åœºæ™¯2æ··åˆåº”ç”¨å‰ç«¯å®¢æˆ·ç«¯å‡éœ€è°ƒç”¨åç«¯">&lt;strong>åœºæ™¯2ï¼šæ··åˆåº”ç”¨ï¼ˆå‰ç«¯+å®¢æˆ·ç«¯å‡éœ€è°ƒç”¨åç«¯ï¼‰&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>æ¶æ„ç‰¹ç‚¹&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>åç«¯éœ€åŒæ—¶æœåŠ¡å‰ç«¯ï¼ˆWebï¼‰å’Œå®¢æˆ·ç«¯ï¼ˆApp/ç¬¬ä¸‰æ–¹ï¼‰ã€‚&lt;/li>
&lt;li>éœ€åŒºåˆ†å†…éƒ¨æ¥å£å’Œå¼€æ”¾æ¥å£ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>é…ç½®æ–¹æ¡ˆ&lt;/strong>ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>å‰ç«¯è°ƒç”¨åç«¯&lt;/strong>ï¼šé€šè¿‡å†…ç½‘åŸŸå/IPï¼ˆèµ°åå‘ä»£ç†ï¼‰ã€‚&lt;/li>
&lt;li>&lt;strong>å®¢æˆ·ç«¯è°ƒç”¨åç«¯&lt;/strong>ï¼šé€šè¿‡å¤–ç½‘åŸŸåï¼ˆå¦‚ &lt;code>https://api.example.com&lt;/code>ï¼‰ï¼Œé…åˆAPIç½‘å…³ã€é‰´æƒå’Œé™æµã€‚&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯¹å¤–APIç½‘å…³é…ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">443&lt;/span> &lt;span class="s">ssl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">api.example.com&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># å¤–ç½‘åŸŸå
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/public-api/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://backend-cluster&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># åç«¯é›†ç¾¤å†…ç½‘åœ°å€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1"># å®‰å…¨åŠ å›ºï¼šAPIå¯†é’¥éªŒè¯ã€é€Ÿç‡é™åˆ¶ç­‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="åœºæ™¯3å…¨å¼€æ”¾apiæœåŠ¡å¦‚ç¬¬ä¸‰æ–¹é›†æˆ">&lt;strong>åœºæ™¯3ï¼šå…¨å¼€æ”¾APIæœåŠ¡ï¼ˆå¦‚ç¬¬ä¸‰æ–¹é›†æˆï¼‰&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>æ¶æ„ç‰¹ç‚¹ï¼š
&lt;ul>
&lt;li>åç«¯éœ€å®Œå…¨æš´éœ²ç»™å…¬ç½‘ï¼Œä¾›å¤šå®¢æˆ·ç«¯ç›´æ¥è°ƒç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>é…ç½®æ–¹æ¡ˆï¼š
&lt;ol>
&lt;li>ç»Ÿä¸€ä½¿ç”¨å¤–ç½‘åŸŸåï¼ˆå¦‚ &lt;code>https://api.example.com&lt;/code>ï¼‰ã€‚&lt;/li>
&lt;li>é€šè¿‡&lt;strong>APIç½‘å…³&lt;/strong>ç®¡ç†æµé‡ï¼Œå¹¶å¯ç”¨HTTPSã€OAuth2ã€IPç™½åå•ç­‰å®‰å…¨æªæ–½ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="å®‰å…¨æœ€ä½³å®è·µ">&lt;strong>å®‰å…¨æœ€ä½³å®è·µ&lt;/strong>
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>&lt;strong>å†…ç½‘é€šä¿¡åŠ å›º&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ä½¿ç”¨å†…ç½‘åŸŸå/IPï¼Œé¿å…åç«¯ç›´æ¥æš´éœ²åœ¨å…¬ç½‘ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é€šè¿‡é˜²ç«å¢™é™åˆ¶åç«¯ç«¯å£ä»…å…è®¸å‰ç«¯æœåŠ¡å™¨IPè®¿é—®ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åç«¯æœåŠ¡å™¨é˜²ç«å¢™è§„åˆ™ï¼ˆç¤ºä¾‹ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw allow from å‰ç«¯æœåŠ¡å™¨IP to any port &lt;span class="m">8080&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw deny &lt;span class="m">8080&lt;/span> &lt;span class="c1"># ç¦æ­¢å…¶ä»–IPè®¿é—®&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>å¤–ç½‘æ¥å£é˜²æŠ¤&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>HTTPSåŠ å¯†&lt;/strong>ï¼šå¼ºåˆ¶æ‰€æœ‰å¤–ç½‘åŸŸåä½¿ç”¨SSL/TLSã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>é‰´æƒæœºåˆ¶&lt;/strong>ï¼šJWTã€OAuth2ã€API Keyç­‰ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é€Ÿç‡é™åˆ¶ï¼šé˜²æ­¢DDoSå’Œæ»¥ç”¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Nginxé™æµé…ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">limit_req_zone&lt;/span> &lt;span class="nv">$binary_remote_addr&lt;/span> &lt;span class="s">zone=api_rate:10m&lt;/span> &lt;span class="s">rate=10r/s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">location&lt;/span> &lt;span class="s">/api/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">limit_req&lt;/span> &lt;span class="s">zone=api_rate&lt;/span> &lt;span class="s">burst=20&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://backend&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ç›‘æ§ä¸æ—¥å¿—&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>è®°å½•æ‰€æœ‰å¤–ç½‘æ¥å£çš„è®¿é—®æ—¥å¿—ã€‚&lt;/li>
&lt;li>ä½¿ç”¨å·¥å…·ï¼ˆå¦‚Prometheus+Grafanaï¼‰ç›‘æ§APIå¥åº·çŠ¶æ€ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="å¸¸è§è¯¯åŒºä¸è§£ç­”">&lt;strong>å¸¸è§è¯¯åŒºä¸è§£ç­”&lt;/strong>
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>è¯¯åŒº1&lt;/strong>ï¼šæ‰€æœ‰æ¥å£éƒ½éœ€é€šè¿‡å¤–ç½‘æš´éœ²ã€‚
â€‹&lt;strong>è§£ç­”&lt;/strong>ï¼šä»…å®¢æˆ·ç«¯ç›´æ¥è°ƒç”¨çš„æ¥å£éœ€å¤–ç½‘åŸŸåï¼Œå‰ç«¯è°ƒç”¨çš„æ¥å£åº”é€šè¿‡å†…ç½‘é€šä¿¡ã€‚&lt;/li>
&lt;li>&lt;strong>è¯¯åŒº2&lt;/strong>ï¼šå†…ç½‘åŸŸåä¸éœ€è¦HTTPSã€‚
â€‹&lt;strong>è§£ç­”&lt;/strong>ï¼šå†…ç½‘é€šä¿¡ä¹Ÿåº”å¯ç”¨HTTPSï¼ˆå¦‚è‡ªç­¾è¯ä¹¦ï¼‰ï¼Œé˜²æ­¢å†…éƒ¨æµé‡è¢«çªƒå¬ã€‚&lt;/li>
&lt;li>&lt;strong>è¯¯åŒº3&lt;/strong>ï¼šå¤–ç½‘æ¥å£ä»…é é˜²ç«å¢™ä¿æŠ¤è¶³å¤Ÿã€‚
â€‹&lt;strong>è§£ç­”&lt;/strong>ï¼šéœ€å¤šå±‚é˜²å¾¡ï¼ˆHTTPS+é‰´æƒ+WAFï¼‰ï¼Œé˜²ç«å¢™ä»…æ˜¯ç¬¬ä¸€é“å±éšœã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="æ€»ç»“">&lt;strong>æ€»ç»“&lt;/strong>
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>å‰ç«¯è°ƒç”¨åç«¯&lt;/strong> â†’ ä¼˜å…ˆä½¿ç”¨å†…ç½‘åŸŸå/IPï¼Œé€šè¿‡åå‘ä»£ç†éšè—åç«¯ã€‚&lt;/li>
&lt;li>&lt;strong>å®¢æˆ·ç«¯è°ƒç”¨åç«¯&lt;/strong> â†’ ä½¿ç”¨å¤–ç½‘åŸŸåï¼Œä¸¥æ ¼åŠ å›ºå®‰å…¨ç­–ç•¥ã€‚&lt;/li>
&lt;li>å§‹ç»ˆéµå¾ªæœ€å°æš´éœ²åŸåˆ™ï¼Œå‡å°‘æ”»å‡»é¢ï¼Œç»“åˆä¸šåŠ¡éœ€æ±‚è®¾è®¡ç½‘ç»œæ¶æ„ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="åœºæ™¯1-è¯¦è§£">åœºæ™¯1 è¯¦è§£
&lt;/h2>&lt;p>åœ¨å‰åç«¯åˆ†ç¦»çš„æ¶æ„ä¸­ï¼Œé€šè¿‡ &lt;strong>Nginx åå‘ä»£ç†&lt;/strong>å®ç°æµè§ˆå™¨é—´æ¥è®¿é—®å†…ç½‘åç«¯æœåŠ¡çš„é“¾è·¯å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;strong>å®Œæ•´äº¤äº’æµç¨‹ï¼ˆä»¥è®¿é—® &lt;code>https://example.com&lt;/code> ä¸ºä¾‹ï¼‰&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sequenceDiagram
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> participant æµè§ˆå™¨
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> participant å‰ç«¯æœåŠ¡å™¨(Nginx)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> participant åç«¯æœåŠ¡å™¨
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> æµè§ˆå™¨-&amp;gt;&amp;gt;å‰ç«¯æœåŠ¡å™¨(Nginx): 1. è¯·æ±‚å‰ç«¯é¡µé¢ï¼ˆGET /ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> å‰ç«¯æœåŠ¡å™¨(Nginx)-&amp;gt;&amp;gt;æµè§ˆå™¨: 2. è¿”å›HTML/CSS/JSæ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> æµè§ˆå™¨-&amp;gt;&amp;gt;å‰ç«¯æœåŠ¡å™¨(Nginx): 3. å‘èµ·APIè¯·æ±‚ï¼ˆGET /api/todosï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> å‰ç«¯æœåŠ¡å™¨(Nginx)-&amp;gt;&amp;gt;åç«¯æœåŠ¡å™¨: 4. è½¬å‘è¯·æ±‚åˆ°å†…ç½‘åœ°å€ï¼ˆå¦‚http://10.0.0.2:8080ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> åç«¯æœåŠ¡å™¨-&amp;gt;&amp;gt;å‰ç«¯æœåŠ¡å™¨(Nginx): 5. è¿”å›APIå“åº”æ•°æ®
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> å‰ç«¯æœåŠ¡å™¨(Nginx)-&amp;gt;&amp;gt;æµè§ˆå™¨: 6. è¿”å›æ•°æ®ç»™æµè§ˆå™¨
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="å…³é”®æ­¥éª¤è¯¦è§£">&lt;strong>å…³é”®æ­¥éª¤è¯¦è§£&lt;/strong>
&lt;/h3>&lt;h4 id="æµè§ˆå™¨è¯·æ±‚å‰ç«¯é¡µé¢">&lt;strong>æµè§ˆå™¨è¯·æ±‚å‰ç«¯é¡µé¢&lt;/strong>
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>ç”¨æˆ·è¾“å…¥&lt;/strong>ï¼šè®¿é—® &lt;code>https://example.com&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>DNSè§£æ&lt;/strong>ï¼šæµè§ˆå™¨é€šè¿‡DNSæŸ¥è¯¢å¾—åˆ° &lt;code>example.com&lt;/code> çš„å…¬ç½‘IPï¼ˆå¦‚ &lt;code>122.51.70.205&lt;/code>ï¼‰ã€‚&lt;/li>
&lt;li>&lt;strong>è¯·æ±‚å‰ç«¯èµ„æº&lt;/strong>ï¼šæµè§ˆå™¨å‘è¯¥IPçš„80/443ç«¯å£å‘é€è¯·æ±‚ï¼Œè·å– &lt;code>index.html&lt;/code> å’Œé™æ€èµ„æºï¼ˆJS/CSSï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="å‰ç«¯æœåŠ¡å™¨nginxå“åº”é™æ€æ–‡ä»¶">&lt;strong>å‰ç«¯æœåŠ¡å™¨ï¼ˆNginxï¼‰å“åº”é™æ€æ–‡ä»¶&lt;/strong>
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>Nginxé…ç½®ï¼šæ‰˜ç®¡å‰ç«¯æ‰“åŒ…åçš„æ–‡ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">example.com&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">root&lt;/span> &lt;span class="s">/var/www/dist&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># å‰ç«¯æ–‡ä»¶ç›®å½•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">index&lt;/span> &lt;span class="s">index.html&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">try_files&lt;/span> &lt;span class="nv">$uri&lt;/span> &lt;span class="nv">$uri/&lt;/span> &lt;span class="s">/index.html&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># å¤„ç†å‰ç«¯è·¯ç”±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h4 id="æµè§ˆå™¨æ‰§è¡Œjsä»£ç å‘èµ·apiè¯·æ±‚">&lt;strong>æµè§ˆå™¨æ‰§è¡ŒJSä»£ç å‘èµ·APIè¯·æ±‚&lt;/strong>
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>å‰ç«¯ä»£ç é€»è¾‘&lt;/strong>ï¼šJSä¸­è°ƒç”¨ &lt;code>fetch(&amp;quot;/api/todos&amp;quot;)&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>å®é™…è¯·æ±‚åœ°å€&lt;/strong>ï¼šæµè§ˆå™¨ä¼šå°†å…¶è§£æä¸º &lt;code>https://example.com/api/todos&lt;/code>ï¼ˆåŒæºè¯·æ±‚ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="nginxä»£ç†è½¬å‘åˆ°åç«¯æœåŠ¡å™¨">&lt;strong>Nginxä»£ç†è½¬å‘åˆ°åç«¯æœåŠ¡å™¨&lt;/strong>
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>Nginxåå‘ä»£ç†è§„åˆ™ï¼šåŒ¹é…/api/è·¯å¾„ï¼Œè½¬å‘åˆ°å†…ç½‘åç«¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">location&lt;/span> &lt;span class="s">/api/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://10.0.0.2:8080&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># åç«¯å†…ç½‘IPå’Œç«¯å£
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">Host&lt;/span> &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Real-IP&lt;/span> &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>å†…ç½‘é€šä¿¡&lt;/strong>ï¼šNginxå°†è¯·æ±‚å‘é€åˆ°åç«¯æœåŠ¡å™¨çš„å†…ç½‘åœ°å€ &lt;code>10.0.0.2:8080&lt;/code>ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="åç«¯æœåŠ¡å™¨å¤„ç†è¯·æ±‚">&lt;strong>åç«¯æœåŠ¡å™¨å¤„ç†è¯·æ±‚&lt;/strong>
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>ç›‘å¬ç«¯å£&lt;/strong>ï¼šåç«¯æœåŠ¡è¿è¡Œåœ¨å†…ç½‘æœåŠ¡å™¨çš„ &lt;code>8080&lt;/code> ç«¯å£ã€‚&lt;/li>
&lt;li>&lt;strong>å®‰å…¨é™åˆ¶&lt;/strong>ï¼šé˜²ç«å¢™ä»…å…è®¸æ¥è‡ªå‰ç«¯æœåŠ¡å™¨IPçš„è¯·æ±‚ï¼ˆå¦‚ &lt;code>10.0.0.1&lt;/code>ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="æ•°æ®è¿”å›æµè§ˆå™¨">&lt;strong>æ•°æ®è¿”å›æµè§ˆå™¨&lt;/strong>
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>å“åº”è·¯å¾„&lt;/strong>ï¼šåç«¯ â†’ Nginx â†’ æµè§ˆå™¨ã€‚&lt;/li>
&lt;li>&lt;strong>æµè§ˆå™¨è§†è§’&lt;/strong>ï¼šå…¨ç¨‹åªä¸ &lt;code>example.com&lt;/code> é€šä¿¡ï¼Œ&lt;strong>æ„ŸçŸ¥ä¸åˆ°åç«¯æœåŠ¡å™¨çš„å­˜åœ¨&lt;/strong>ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="ä¸ºä»€ä¹ˆåç«¯æ— éœ€æš´éœ²å…¬ç½‘">&lt;strong>ä¸ºä»€ä¹ˆåç«¯æ— éœ€æš´éœ²å…¬ç½‘ï¼Ÿ&lt;/strong>
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>Nginxçš„ä¸­è½¬ä½œç”¨&lt;/p>
&lt;ul>
&lt;li>æ‰€æœ‰è¯·æ±‚é€šè¿‡Nginxè¿›å…¥ï¼Œåç«¯æœåŠ¡åªéœ€åœ¨å†…ç½‘ç›‘å¬ç«¯å£ï¼Œæ— éœ€å…¬ç½‘IPæˆ–ç«¯å£æ˜ å°„ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>é˜²ç«å¢™ä¿æŠ¤&lt;/p>
&lt;ul>
&lt;li>
&lt;p>åç«¯æœåŠ¡å™¨çš„é˜²ç«å¢™å¯é…ç½®ä¸ºä»…æ¥å—æ¥è‡ªå‰ç«¯æœåŠ¡å™¨å†…ç½‘IPçš„è¯·æ±‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åç«¯æœåŠ¡å™¨é˜²ç«å¢™è§„åˆ™ï¼ˆç¤ºä¾‹ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw allow from 10.0.0.1 to any port &lt;span class="m">8080&lt;/span> &lt;span class="c1"># ä»…å…è®¸å‰ç«¯æœåŠ¡å™¨è®¿é—®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw deny &lt;span class="m">8080&lt;/span> &lt;span class="c1"># ç¦æ­¢å…¶ä»–IPè®¿é—®&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>å®‰å…¨æ€§æå‡&lt;/p>
&lt;ul>
&lt;li>åç«¯ä¸æš´éœ²å…¬ç½‘ï¼Œå‡å°‘è¢«æ‰«ææ”»å‡»çš„é£é™©ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h3 id="å¸¸è§é—®é¢˜è§£ç­”">&lt;strong>å¸¸è§é—®é¢˜è§£ç­”&lt;/strong>
&lt;/h3>&lt;h4 id="q1ä¸ºä»€ä¹ˆæµè§ˆå™¨ä¸ç›´æ¥è¯·æ±‚åç«¯åœ°å€">&lt;strong>Q1ï¼šä¸ºä»€ä¹ˆæµè§ˆå™¨ä¸ç›´æ¥è¯·æ±‚åç«¯åœ°å€ï¼Ÿ&lt;/strong>
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>åŒæºç­–ç•¥&lt;/strong>ï¼šå‰ç«¯ä»£ç éƒ¨ç½²åœ¨ &lt;code>example.com&lt;/code>ï¼Œè‹¥ç›´æ¥è¯·æ±‚ &lt;code>http://10.0.0.2:8080/api&lt;/code> ä¼šè§¦å‘è·¨åŸŸé”™è¯¯ï¼ˆCORSï¼‰ã€‚&lt;/li>
&lt;li>&lt;strong>è§£å†³æ–¹æ¡ˆ&lt;/strong>ï¼šé€šè¿‡Nginxä»£ç†ç»Ÿä¸€åŸŸåï¼Œè§„é¿è·¨åŸŸé—®é¢˜ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="q2å¦‚ä½•ä¿è¯å†…ç½‘é€šä¿¡å®‰å…¨">&lt;strong>Q2ï¼šå¦‚ä½•ä¿è¯å†…ç½‘é€šä¿¡å®‰å…¨ï¼Ÿ&lt;/strong>
&lt;/h4>&lt;ul>
&lt;li>&lt;strong>ä½¿ç”¨VPNæˆ–ä¸“çº¿&lt;/strong>ï¼šå‰åç«¯æœåŠ¡å™¨é€šè¿‡ç§æœ‰ç½‘ç»œé€šä¿¡ã€‚&lt;/li>
&lt;li>&lt;strong>å†…ç½‘HTTPS&lt;/strong>ï¼šå³ä½¿åœ¨å†…ç½‘ï¼Œä¹Ÿå»ºè®®ä¸ºåç«¯æœåŠ¡å¯ç”¨HTTPSã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="q3å¦‚ä½•æ‰©å±•å¤šå°åç«¯æœåŠ¡å™¨">&lt;strong>Q3ï¼šå¦‚ä½•æ‰©å±•å¤šå°åç«¯æœåŠ¡å™¨ï¼Ÿ&lt;/strong>
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>è´Ÿè½½å‡è¡¡ï¼šåœ¨Nginxä¸­é…ç½®upstreamæ¨¡å—ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">upstream&lt;/span> &lt;span class="s">backend&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server&lt;/span> &lt;span class="n">10.0.0.2&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8080&lt;/span> &lt;span class="s">weight=1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server&lt;/span> &lt;span class="n">10.0.0.3&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8080&lt;/span> &lt;span class="s">weight=2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">location&lt;/span> &lt;span class="s">/api/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://backend&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="æ€»ç»“-1">&lt;strong>æ€»ç»“&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>æ ¸å¿ƒé€»è¾‘&lt;/strong>ï¼šNginxä½œä¸ºä¸­é—´å±‚ï¼Œå°†å…¬ç½‘è¯·æ±‚è½¬å‘åˆ°å†…ç½‘åç«¯ï¼Œéšè—åç«¯ç»†èŠ‚ã€‚&lt;/li>
&lt;li>&lt;strong>å®‰å…¨è¦ç‚¹&lt;/strong>ï¼šåç«¯ä»…åœ¨å†…ç½‘ç›‘å¬ï¼Œé€šè¿‡é˜²ç«å¢™é™åˆ¶è®¿é—®æ¥æºã€‚&lt;/li>
&lt;li>&lt;strong>ä¼˜åŠ¿&lt;/strong>ï¼šå‰ç«¯åŸŸåç»Ÿä¸€ç®¡ç†è¯·æ±‚ï¼Œæå‡å®‰å…¨æ€§å’Œæ‰©å±•æ€§ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="dns-nginxå¦‚ä½•åä½œçš„">dns nginxå¦‚ä½•åä½œçš„
&lt;/h2>&lt;h3 id="1-dns-è§£æé˜¶æ®µåŸŸååˆ°-nginx-æœåŠ¡å™¨çš„-ip">&lt;strong>1. DNS è§£æé˜¶æ®µï¼šåŸŸååˆ° Nginx æœåŠ¡å™¨çš„ IP&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>ç”¨æˆ·è®¿é—®åŸŸå&lt;/strong>ï¼šä¾‹å¦‚ &lt;code>https://www.example.com&lt;/code>ã€‚&lt;/li>
&lt;li>DNS æŸ¥è¯¢ï¼š
&lt;ol>
&lt;li>æµè§ˆå™¨å‘æœ¬åœ° DNS ç¼“å­˜æˆ–è¿è¥å•† DNS æœåŠ¡å™¨æŸ¥è¯¢ &lt;code>www.example.com&lt;/code> çš„ IPã€‚&lt;/li>
&lt;li>DNS æœåŠ¡å™¨è¿”å›è¯¥åŸŸåå¯¹åº”çš„ &lt;strong>Nginx æœåŠ¡å™¨çš„å…¬ç½‘ IP&lt;/strong>ï¼ˆå¦‚ &lt;code>122.51.70.205&lt;/code>ï¼‰ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>&lt;strong>ç»“æœ&lt;/strong>ï¼šæµè§ˆå™¨çš„æ‰€æœ‰è¯·æ±‚ï¼ˆæ— è®ºè·¯å¾„æ˜¯ &lt;code>/&lt;/code>ã€&lt;code>/api/xxx&lt;/code> æˆ–å…¶ä»–ï¼‰éƒ½ä¼šå‘é€åˆ° &lt;code>122.51.70.205&lt;/code> çš„ 80/443 ç«¯å£ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="2-nginx-æ¥æ”¶è¯·æ±‚åçš„å¤„ç†é€»è¾‘">&lt;strong>2. Nginx æ¥æ”¶è¯·æ±‚åçš„å¤„ç†é€»è¾‘&lt;/strong>
&lt;/h3>&lt;p>Nginx &lt;strong>ä¸ä¾èµ–åŸŸååç¼€&lt;/strong>ï¼ˆå¦‚ &lt;code>/api&lt;/code>ï¼‰ï¼Œè€Œæ˜¯é€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªå…³é”®æœºåˆ¶ç¡®å®šå¦‚ä½•è½¬å‘è¯·æ±‚ï¼š&lt;/p>
&lt;hr>
&lt;p>&lt;strong>5(1) æ ¹æ® &lt;code>Host&lt;/code> å¤´åŒ¹é… &lt;code>server&lt;/code> å—&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>HTTP è¯·æ±‚å¤´&lt;/strong>ï¼šæµè§ˆå™¨åœ¨è¯·æ±‚ä¸­è‡ªåŠ¨æºå¸¦ &lt;code>Host: www.example.com&lt;/code>ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Nginx é…ç½®ï¼šé€šè¿‡server_nameåŒ¹é…åŸŸåï¼Œå†³å®šç”±å“ªä¸ªserverå—å¤„ç†è¯·æ±‚ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¤ºä¾‹ï¼šå¤„ç† www.example.com çš„è¯·æ±‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">www.example.com&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># å…³é”®ï¼åŒ¹é… Host å¤´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">root&lt;/span> &lt;span class="s">/var/www/html&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># è¿”å›å‰ç«¯é¡µé¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/api/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://backend&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># è½¬å‘åˆ°åç«¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¦ä¸€ä¸ªåŸŸåï¼ˆå¦‚ api.example.comï¼‰çš„é…ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">api.example.com&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># åŒ¹é…ä¸åŒ Host å¤´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://another-backend&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># è½¬å‘åˆ°å…¶ä»–åç«¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>æ ¸å¿ƒé€»è¾‘&lt;/strong>ï¼š
Nginx é€šè¿‡ &lt;code>server_name&lt;/code> åŒºåˆ†ä¸åŒåŸŸåçš„è¯·æ±‚ï¼Œ&lt;strong>å³ä½¿å®ƒä»¬æŒ‡å‘åŒä¸€ä¸ª IP&lt;/strong>ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>&lt;strong>(2) æ ¹æ® &lt;code>location&lt;/code> å—åŒ¹é…è·¯å¾„&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>è·¯å¾„åŒ¹é…ï¼šåœ¨åŒä¸€ä¸ªserverå—å†…ï¼Œé€šè¿‡locationè§„åˆ™ï¼ˆå¦‚/api/ï¼‰è¿›ä¸€æ­¥å†³å®šæ˜¯å¦è½¬å‘åˆ°åç«¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">location&lt;/span> &lt;span class="s">/api/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://10.0.0.2:8080&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># è½¬å‘åˆ°å†…ç½‘åç«¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>æœ€ç»ˆæµç¨‹&lt;/strong>ï¼š
&lt;code>åŸŸåè§£æ â†’ Nginx æ¥æ”¶è¯·æ±‚ â†’ åŒ¹é… server_name â†’ åŒ¹é… location â†’ è½¬å‘æˆ–è¿”å›é™æ€æ–‡ä»¶&lt;/code>ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="3-ä¸ºä»€ä¹ˆåŸŸååç¼€å¦‚-apiä¸æ˜¯å…³é”®">&lt;strong>3. ä¸ºä»€ä¹ˆåŸŸååç¼€ï¼ˆå¦‚ &lt;code>/api&lt;/code>ï¼‰ä¸æ˜¯å…³é”®ï¼Ÿ&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>è¯¯åŒºæ¾„æ¸…&lt;/strong>ï¼š
Nginx â€‹&lt;strong>ä¸ä¾èµ– URL ä¸­çš„åŸŸååç¼€&lt;/strong>â€‹ï¼ˆå¦‚ &lt;code>https://www.example.com/api/xxx&lt;/code> ä¸­çš„ &lt;code>api&lt;/code> è·¯å¾„ï¼‰æ¥å†³å®šè½¬å‘ï¼Œè€Œæ˜¯é€šè¿‡ä»¥ä¸‹ä¸¤æ­¥ï¼š
&lt;ol>
&lt;li>&lt;strong>åŸŸåçº§åˆ«&lt;/strong>ï¼šæ ¹æ® &lt;code>Host&lt;/code> å¤´é€‰æ‹© &lt;code>server&lt;/code> å—ï¼ˆå¦‚ &lt;code>www.example.com&lt;/code> vs &lt;code>api.example.com&lt;/code>ï¼‰ã€‚&lt;/li>
&lt;li>&lt;strong>è·¯å¾„çº§åˆ«&lt;/strong>ï¼šåœ¨é€‰ä¸­çš„ &lt;code>server&lt;/code> å—å†…ï¼Œæ ¹æ® &lt;code>location&lt;/code> åŒ¹é…è·¯å¾„ï¼ˆå¦‚ &lt;code>/api/&lt;/code>ï¼‰ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>&lt;strong>ç¤ºä¾‹åœºæ™¯&lt;/strong>ï¼š
&lt;ul>
&lt;li>å¦‚æœç”¨æˆ·è®¿é—®&lt;code>https://www.example.com/api/todos&lt;/code>ï¼š
&lt;ul>
&lt;li>Nginx å…ˆåŒ¹é… &lt;code>server_name www.example.com&lt;/code> çš„ &lt;code>server&lt;/code> å—ã€‚&lt;/li>
&lt;li>å†é€šè¿‡ &lt;code>location /api/&lt;/code> å°†è¯·æ±‚è½¬å‘åˆ°åç«¯ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>å¦‚æœç”¨æˆ·è®¿é—®https://api.example.com/todosï¼š
&lt;ul>
&lt;li>Nginx åŒ¹é… &lt;code>server_name api.example.com&lt;/code> çš„ &lt;code>server&lt;/code> å—ã€‚&lt;/li>
&lt;li>æ ¹æ®è¯¥ &lt;code>server&lt;/code> å—çš„ &lt;code>location /&lt;/code> ç›´æ¥è½¬å‘åˆ°å¦ä¸€ä¸ªåç«¯ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="å…³é”®æ€»ç»“">&lt;strong>å…³é”®æ€»ç»“&lt;/strong>
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>DNS è§£æåªæ˜¯å…¥å£&lt;/strong>ï¼š
&lt;ul>
&lt;li>ä»…è´Ÿè´£å°†åŸŸåè§£æåˆ° Nginx æœåŠ¡å™¨çš„ IPï¼Œä¸æ¶‰åŠåç»­è·¯å¾„å¤„ç†ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Nginx çš„æ ¸å¿ƒåŒ¹é…é€»è¾‘&lt;/strong>ï¼š
&lt;ul>
&lt;li>&lt;strong>ç¬¬ 1 å±‚&lt;/strong>ï¼šé€šè¿‡ &lt;code>server_name&lt;/code> åŒ¹é…åŸŸåï¼ˆ&lt;code>Host&lt;/code> å¤´ï¼‰ã€‚&lt;/li>
&lt;li>&lt;strong>ç¬¬ 2 å±‚&lt;/strong>ï¼šé€šè¿‡ &lt;code>location&lt;/code> åŒ¹é…è·¯å¾„ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>éšè—åç«¯çš„å…³é”®&lt;/strong>ï¼š
&lt;ul>
&lt;li>æµè§ˆå™¨å§‹ç»ˆåªä¸ Nginx é€šä¿¡ï¼Œåç«¯æœåŠ¡çš„ IPã€ç«¯å£ã€å†…ç½‘æ¶æ„å¯¹æµè§ˆå™¨å®Œå…¨é€æ˜ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h3 id="é…ç½®ç¤ºä¾‹å¤šåŸŸå--è·¯å¾„è½¬å‘">&lt;strong>é…ç½®ç¤ºä¾‹ï¼šå¤šåŸŸå + è·¯å¾„è½¬å‘&lt;/strong>
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åŸŸå www.example.comï¼šå¤„ç†å‰ç«¯é¡µé¢å’ŒAPI
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">www.example.com&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å‰ç«¯é™æ€èµ„æº
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">location&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">root&lt;/span> &lt;span class="s">/var/www/html&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">index&lt;/span> &lt;span class="s">index.html&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è½¬å‘APIè¯·æ±‚åˆ°åç«¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">location&lt;/span> &lt;span class="s">/api/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://10.0.0.2:8080&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åŸŸå api.example.comï¼šç›´æ¥è½¬å‘åˆ°å¦ä¸€ä¸ªåç«¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">api.example.com&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://10.0.0.3:8080&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="æµ‹è¯•æ–¹æ³•">&lt;strong>æµ‹è¯•æ–¹æ³•&lt;/strong>
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>éªŒè¯ DNS è§£æ&lt;/strong>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">dig www.example.com &lt;span class="c1"># æŸ¥çœ‹æ˜¯å¦è¿”å› Nginx æœåŠ¡å™¨ IP&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>éªŒè¯ Nginx åŸŸååŒ¹é…&lt;/strong>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ¨¡æ‹Ÿæºå¸¦ä¸åŒ Host å¤´çš„è¯·æ±‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -H &lt;span class="s2">&amp;#34;Host: www.example.com&amp;#34;&lt;/span> http://122.51.70.205/api/todos
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -H &lt;span class="s2">&amp;#34;Host: api.example.com&amp;#34;&lt;/span> http://122.51.70.205/todos
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>æµè§ˆå™¨è°ƒè¯•&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„ &lt;strong>Network&lt;/strong> é€‰é¡¹å¡ä¸­ï¼Œè§‚å¯Ÿè¯·æ±‚çš„ &lt;code>Host&lt;/code> å¤´å’Œå“åº”æ¥æºã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h3 id="å¸¸è§é—®é¢˜">&lt;strong>å¸¸è§é—®é¢˜&lt;/strong>
&lt;/h3>&lt;p>&lt;strong>Q1ï¼šå¦‚æœå¤šä¸ªåŸŸåæŒ‡å‘åŒä¸€ä¸ª IPï¼ŒNginx å¦‚ä½•åŒºåˆ†ï¼Ÿ&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ç­”æ¡ˆ&lt;/strong>ï¼šé€šè¿‡ &lt;code>server_name&lt;/code> åŒ¹é…è¯·æ±‚å¤´ä¸­çš„ &lt;code>Host&lt;/code> å­—æ®µï¼Œæ— éœ€ä¸åŒ IPã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Q2ï¼šNginx èƒ½æ ¹æ® URL è·¯å¾„ï¼ˆå¦‚ &lt;code>/api&lt;/code>ï¼‰ç›´æ¥è½¬å‘å—ï¼Ÿ&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ç­”æ¡ˆ&lt;/strong>ï¼šå¯ä»¥ï¼Œä½†éœ€åœ¨åŒä¸€ &lt;code>server&lt;/code> å—å†…é…ç½® &lt;code>location&lt;/code> è§„åˆ™ï¼Œè€Œä¸æ˜¯ä¾èµ–åŸŸååç¼€ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Q3ï¼šå¦‚ä½•å®ç°ç±»ä¼¼ &lt;code>https://example.com/api&lt;/code> å’Œ &lt;code>https://api.example.com&lt;/code> çš„å…±å­˜ï¼Ÿ&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>æ–¹æ¡ˆï¼š
&lt;ul>
&lt;li>&lt;code>https://example.com/api&lt;/code> â†’ ä½¿ç”¨ &lt;code>server_name example.com&lt;/code> + &lt;code>location /api&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;code>https://api.example.com&lt;/code> â†’ ä½¿ç”¨ &lt;code>server_name api.example.com&lt;/code> + &lt;code>location /&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>é€šè¿‡ä»¥ä¸Šæœºåˆ¶ï¼ŒNginx å®Œç¾å®ç°äº† &lt;strong>åŸŸåè§£æ â†’ è¯·æ±‚åˆ†å‘ â†’ åç«¯éšè—&lt;/strong> çš„å…¨é“¾è·¯æ§åˆ¶ã€‚&lt;/p></description></item><item><title>Linux Permission</title><link>https://godvvvzzz.github.io/p/linux-permission/</link><pubDate>Mon, 24 Feb 2025 19:14:51 +0800</pubDate><guid>https://godvvvzzz.github.io/p/linux-permission/</guid><description>&lt;h2 id="linux-æ–‡ä»¶æƒé™åŸºç¡€">Linux æ–‡ä»¶æƒé™åŸºç¡€
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>æƒé™ä¸‰å…ƒç»„&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>Linux ä¸­æ¯ä¸ªæ–‡ä»¶/ç›®å½•çš„æƒé™ç”± 3 ç»„å­—ç¬¦è¡¨ç¤ºï¼ˆå…± 9 ä½ï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;span class="line">&lt;span class="cl"> rwx rwx rwx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚â”‚â”‚ â”‚â”‚â”‚ â”‚â”‚â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”¬â”˜ â””â”¬â”˜ â””â”¬â”˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Owner Group Others
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>&lt;code>r = è¯» (4)&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>w = å†™ (2)&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>x = æ‰§è¡Œ/è¿›å…¥ç›®å½• (1)&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>&lt;strong>æ•°å­—è¡¨ç¤ºæ³•&lt;/strong>&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>
&lt;p>&lt;code>755 = rwxr-xr-x&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>644 = rw-r--r--&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>777 = rwxrwxrwxï¼ˆå±é™©ï¼ï¼‰&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="nginx-æƒé™éœ€æ±‚åˆ†æ">Nginx æƒé™éœ€æ±‚åˆ†æ
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>Nginx è¿è¡Œèº«ä»½&lt;/strong>
é»˜è®¤ä»¥ &lt;code>www-data&lt;/code> ç”¨æˆ·å’Œç»„è¿è¡Œï¼ˆå¯é€šè¿‡ &lt;code>ps aux | grep nginx&lt;/code> ç¡®è®¤ï¼‰ã€‚
éœ€è¦è‡³å°‘ä»¥ä¸‹æƒé™ï¼š&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>
&lt;p>ç›®å½•ï¼š&lt;code>r-x&lt;/code>ï¼ˆè¯» + æ‰§è¡Œï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ–‡ä»¶ï¼š&lt;code>r--&lt;/code>ï¼ˆè¯»ï¼‰&lt;/p>
&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>&lt;strong>å…³é”®è·¯å¾„&lt;/strong>
å‡è®¾ä½ çš„é¡¹ç›®è·¯å¾„ä¸ºï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="n">home&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ubuntu&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">work&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">react&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">todo&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">demo&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">dist&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆ†æ­¥æƒé™é…ç½®æŒ‡å—">åˆ†æ­¥æƒé™é…ç½®æŒ‡å—
&lt;/h2>&lt;h3 id="æ­¥éª¤-1æ£€æŸ¥å½“å‰æƒé™">æ­¥éª¤ 1ï¼šæ£€æŸ¥å½“å‰æƒé™
&lt;/h3>&lt;ul>
&lt;li>æŸ¥çœ‹å®Œæ•´è·¯å¾„æƒé™é“¾ï¼ˆå…³é”®ï¼ï¼‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">namei -l /home/ubuntu/work/react-todo-demo/dist/index.html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¤ºä¾‹è¾“å‡ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">f: /home/ubuntu/work/react-todo-demo/dist/index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x root root /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x root root home
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-x--- ubuntu ubuntu ubuntu # é—®é¢˜æ‰€åœ¨ï¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxrwxr-x ubuntu ubuntu work
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxrwxr-x ubuntu ubuntu react-todo-demo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxrwxrwx www-data www-data dist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rwxrwxrwx www-data www-data index.html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ­¥éª¤-2è®¾ç½®çˆ¶ç›®å½•æƒé™">æ­¥éª¤ 2ï¼šè®¾ç½®çˆ¶ç›®å½•æƒé™
&lt;/h3>&lt;ul>
&lt;li>å¼€æ”¾çˆ¶ç›®å½•çš„ &lt;code>x&lt;/code> æƒé™ï¼ˆå…è®¸è¿›å…¥ç›®å½•ï¼‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo chmod o+x /home/ubuntu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chmod o+x /home/ubuntu/work
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chmod o+x /home/ubuntu/work/react-todo-demo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>éªŒè¯&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">namei -l /home/ubuntu/work/react-todo-demo/dist/index.html &lt;span class="p">|&lt;/span> grep ubuntu
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åº”çœ‹åˆ°ç±»ä¼¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">drwx--x--x&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ­¥éª¤-3è®¾ç½®é¡¹ç›®ç›®å½•æƒé™">æ­¥éª¤ 3ï¼šè®¾ç½®é¡¹ç›®ç›®å½•æƒé™
&lt;/h3>&lt;ul>
&lt;li>è¿›å…¥é¡¹ç›®ç›®å½•&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /home/ubuntu/work/react-todo-demo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>è®¾ç½®ç›®å½•æƒé™ï¼ˆ&lt;code>755 = owner å¯å†™ï¼Œå…¶ä»–äººåªè¯»+æ‰§è¡Œ&lt;/code>ï¼‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo find dist/ -type d -exec chmod &lt;span class="m">755&lt;/span> &lt;span class="o">{}&lt;/span> &lt;span class="se">\;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>è®¾ç½®æ–‡ä»¶æƒé™ï¼ˆ&lt;code>644 = owner å¯å†™ï¼Œå…¶ä»–äººåªè¯»&lt;/code>ï¼‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo find dist/ -type f -exec chmod &lt;span class="m">644&lt;/span> &lt;span class="o">{}&lt;/span> &lt;span class="se">\;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>éªŒè¯&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls -l dist/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åº”æ˜¾ç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">drwxr-xr-x&lt;/span> &lt;span class="nt">ç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">-rw-r--r--&lt;/span> &lt;span class="nt">æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ­¥éª¤-4è®¾ç½®æ‰€æœ‰æƒæ¨èæ–¹æ¡ˆ">æ­¥éª¤ 4ï¼šè®¾ç½®æ‰€æœ‰æƒï¼ˆæ¨èæ–¹æ¡ˆï¼‰
&lt;/h3>&lt;ul>
&lt;li>å°†ç›®å½•ç»„æ”¹ä¸º &lt;code>www-data&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo chown -R ubuntu:www-data /home/ubuntu/work/react-todo-demo/dist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>è®¾ç½®ç»„å†™æƒé™ï¼ˆå¯é€‰ï¼Œå¦‚æœä½ éœ€è¦è‡ªåŠ¨æ„å»ºï¼‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo chmod -R g+w dist/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>æœ€ç»ˆæƒé™ç»“æ„ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>drwxrwxr-x ç›®å½•ï¼ˆowner:ubuntu, group:www-dataï¼‰&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>-rw-rw-r-- æ–‡ä»¶ï¼ˆowner:ubuntu, group:www-dataï¼‰&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="å®‰å…¨å¢å¼ºé…ç½®">å®‰å…¨å¢å¼ºé…ç½®
&lt;/h2>&lt;h3 id="æ–¹æ¡ˆ-aä¸¥æ ¼æ¨¡å¼æ¨è">æ–¹æ¡ˆ Aï¼šä¸¥æ ¼æ¨¡å¼ï¼ˆæ¨èï¼‰
&lt;/h3>&lt;ul>
&lt;li>çˆ¶ç›®å½•æƒé™ï¼ˆä»…å…è®¸ ubuntu ç”¨æˆ·å’Œç»„è®¿é—®ï¼‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo chmod &lt;span class="m">750&lt;/span> /home/ubuntu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chmod &lt;span class="m">750&lt;/span> /home/ubuntu/work
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chmod &lt;span class="m">750&lt;/span> /home/ubuntu/work/react-todo-demo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>å°† &lt;code>www-data&lt;/code> ç”¨æˆ·åŠ å…¥ &lt;code>ubuntu&lt;/code> ç»„&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo usermod -aG ubuntu www-data
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>é¡¹ç›®ç›®å½•æƒé™&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo chmod -R &lt;span class="m">750&lt;/span> /home/ubuntu/work/react-todo-demo/dist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chown -R ubuntu:ubuntu /home/ubuntu/work/react-todo-demo/dist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–¹æ¡ˆ-bå®½æ¾æ¨¡å¼å¿«é€Ÿä¿®å¤">æ–¹æ¡ˆ Bï¼šå®½æ¾æ¨¡å¼ï¼ˆå¿«é€Ÿä¿®å¤ï¼‰
&lt;/h3>&lt;ul>
&lt;li>å®½æ¾æƒé™é…ç½®&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo chmod -R &lt;span class="m">755&lt;/span> /home/ubuntu/work/react-todo-demo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chown -R ubuntu:www-data /home/ubuntu/work/react-todo-demo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="selinuxapparmor-å¤„ç†">SELinux/AppArmor å¤„ç†
&lt;/h2>&lt;p>å¦‚æœç³»ç»Ÿå¯ç”¨äº†å¼ºåˆ¶è®¿é—®æ§åˆ¶ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸´æ—¶ç¦ç”¨ï¼ˆæµ‹è¯•ç”¨ï¼‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo setenforce &lt;span class="m">0&lt;/span> &lt;span class="c1"># SELinux&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl stop apparmor &lt;span class="c1"># AppArmor&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>æ°¸ä¹…è§£å†³æ–¹æ¡ˆ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo semanage fcontext -a -t httpd_sys_content_t &lt;span class="s2">&amp;#34;/home/ubuntu/work/react-todo-demo/dist(/.*)?&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo restorecon -Rv /home/ubuntu/work/react-todo-demo/dist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="éªŒè¯é…ç½®">éªŒè¯é…ç½®
&lt;/h2>&lt;h3 id="æ¨¡æ‹Ÿ-nginx-è®¿é—®">æ¨¡æ‹Ÿ Nginx è®¿é—®
&lt;/h3>&lt;ul>
&lt;li>åˆ‡æ¢åˆ° &lt;code>www-data&lt;/code> ç”¨æˆ·&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo -u www-data bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>å°è¯•è®¿é—®æ–‡ä»¶&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">cat /home/ubuntu/work/react-todo-demo/dist/index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ£€æŸ¥-nginx-é”™è¯¯æ—¥å¿—">æ£€æŸ¥ Nginx é”™è¯¯æ—¥å¿—
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo tail -f /var/log/nginx/error.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æœ€ä½³å®è·µæ€»ç»“">æœ€ä½³å®è·µæ€»ç»“
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å¯¹è±¡&lt;/th>
&lt;th>æ¨èæƒé™&lt;/th>
&lt;th>æ‰€æœ‰æƒ&lt;/th>
&lt;th>è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>é¡¹ç›®çˆ¶ç›®å½•&lt;/td>
&lt;td>755&lt;/td>
&lt;td>ubuntu:ubuntu&lt;/td>
&lt;td>ç¡®ä¿ www-data æœ‰ x æƒé™&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ„å»ºç›®å½•ï¼ˆdistï¼‰&lt;/td>
&lt;td>755&lt;/td>
&lt;td>ubuntu:www-data&lt;/td>
&lt;td>ç»„æƒé™æ–¹ä¾¿ Nginx è¯»å–&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>é™æ€æ–‡ä»¶ï¼ˆ.htmlï¼‰&lt;/td>
&lt;td>644&lt;/td>
&lt;td>ubuntu:www-data&lt;/td>
&lt;td>é˜²æ­¢æ„å¤–ä¿®æ”¹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ.shï¼‰&lt;/td>
&lt;td>744&lt;/td>
&lt;td>ubuntu:www-data&lt;/td>
&lt;td>éœ€è¦æ‰§è¡Œæƒé™æ—¶ä½¿ç”¨&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Notebook Record</title><link>https://godvvvzzz.github.io/p/notebook-record/</link><pubDate>Mon, 24 Feb 2025 15:01:17 +0800</pubDate><guid>https://godvvvzzz.github.io/p/notebook-record/</guid><description>&lt;h2 id="gitæ“ä½œ">Gitæ“ä½œ
&lt;/h2>&lt;h3 id="sshç§˜é’¥">sshç§˜é’¥
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ£€æŸ¥æ˜¯å¦å·²æœ‰ SSH å¯†é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls -al ~/.ssh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç”Ÿæˆæ–°çš„ SSH å¯†é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh-keygen -t ed25519 -C &lt;span class="s2">&amp;#34;your_email@example.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å°† SSH å¯†é’¥æ·»åŠ åˆ° SSH ä»£ç†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">eval&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>ssh-agent -s&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="c1"># å¯åŠ¨sshä»£ç†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh-add ~/.ssh/id_ed25519 &lt;span class="c1"># å°†ç§é’¥æ·»åŠ åˆ° SSH ä»£ç†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å°†å…¬é’¥æ·»åŠ åˆ° GitHub&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat ~/.ssh/id_ed25519.pub
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æµ‹è¯• SSH è¿æ¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh -T git@github.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="configé…ç½®">configé…ç½®
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git config --list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å»æ‰--globalåˆ™ä¸ºå½“å‰é¡¹ç›®è®¾ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global user.name &lt;span class="s2">&amp;#34;weiweiwei&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global user.email &lt;span class="s2">&amp;#34;2662446324@qq.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å…¶ä»–å¸¸ç”¨å‘½ä»¤">å…¶ä»–å¸¸ç”¨å‘½ä»¤
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#æŸ¥çœ‹è¿œç«¯åˆ†æ”¯æƒ…å†µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git fetch --all
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git branch -r
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#åˆ‡æ¢è¿œç¨‹åˆ†æ”¯å¹¶åˆ›å»ºæœ¬åœ°åˆ†æ”¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git checkout -b feature-branch origin/feature-branch
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#è®¾ç½®è¿œç¨‹å’Œæœ¬åœ°åˆ†æ”¯å…³è”&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git branch --set-upstream-to&lt;span class="o">=&lt;/span>&amp;lt;è¿œç¨‹ä»“åº“å&amp;gt;/&amp;lt;è¿œç¨‹åˆ†æ”¯å&amp;gt; &amp;lt;æœ¬åœ°åˆ†æ”¯å&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="linuxå¸¸ç”¨å‘½ä»¤">Linuxå¸¸ç”¨å‘½ä»¤
&lt;/h2>&lt;h3 id="æŸ¥çœ‹å†å²å·²æ‰§è¡Œå‘½ä»¤">æŸ¥çœ‹å†å²å·²æ‰§è¡Œå‘½ä»¤
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹å†å²å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">history&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">history&lt;/span> &lt;span class="p">|&lt;/span> tail -n &lt;span class="m">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">!123 &lt;span class="c1"># ä½¿ç”¨ !ç¼–å· é‡æ–°è¿è¡ŒæŸæ¡å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#å¯ä»¥é€šè¿‡ Ctrl + R åå‘æœç´¢å†å²å‘½ä»¤ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#æŒ‰ä¸‹ Ctrl + Rã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#è¾“å…¥å…³é”®å­—ï¼ˆå¦‚ gitï¼‰ï¼Œç»ˆç«¯ä¼šæ˜¾ç¤ºåŒ¹é…çš„å‘½ä»¤ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#æŒ‰ Enter è¿è¡Œè¯¥å‘½ä»¤ï¼Œæˆ–æŒ‰ Ctrl + R ç»§ç»­æœç´¢ä¸Šä¸€æ¡åŒ¹é…çš„å‘½ä»¤ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="nginxæ— æƒé™">nginxæ— æƒé™
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®šä½æƒé™é—®é¢˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@VM-4-3-ubuntu:/home/ubuntu/work/react-todo-front# namei -l /home/ubuntu/work/react-todo-front/dist/index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">f: /home/ubuntu/work/react-todo-front/dist/index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x root root /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x root root home
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-x--x ubuntu ubuntu ubuntu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxrwxr-x ubuntu ubuntu work
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x root root react-todo-front
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x ubuntu www-data dist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r----- root root index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¦‚ä¸Šæ‰€ç¤ºï¼Œdistç›®å½•ä¸‹çš„æ–‡ä»¶ åªæœ‰rootå’Œrootç»„ä¸­ç”¨æˆ·èƒ½å¤Ÿè¯»å–ï¼Œnginxæ— æƒé™è¯»&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># èµ‹äºˆnginxæƒé™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@VM-4-3-ubuntu:/home/ubuntu/work/react-todo-front# sudo chown -R ubuntu:www-data /home/ubuntu/work/react-todo-front/dist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#æ£€æŸ¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@VM-4-3-ubuntu:/home/ubuntu/work/react-todo-front# namei -l /home/ubuntu/work/react-todo-front/dist/index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">f: /home/ubuntu/work/react-todo-front/dist/index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x root root /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x root root home
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-x--x ubuntu ubuntu ubuntu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxrwxr-x ubuntu ubuntu work
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x root root react-todo-front
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-xr-x ubuntu www-data dist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r----- ubuntu www-data index.html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="vim">vim
&lt;/h2>&lt;h3 id="æ–‡æœ¬æ›¿æ¢">æ–‡æœ¬æ›¿æ¢
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ›¿æ¢æ–‡æœ¬ æ›¿æ¢æ•´ä¸ªæ–‡ä»¶ä¸­çš„æ‰€æœ‰åŒ¹é…é¡¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">:%s/old/new/g
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="nginx">nginx
&lt;/h2>&lt;h2 id="goéƒ¨ç½²">goéƒ¨ç½²
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ps aux &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;go-todo-back&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> grep -v grep
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nohup ./go-todo-back &lt;span class="p">&amp;amp;&lt;/span>&amp;gt; /home/ubuntu/work/log/go-todo-back/nohup.out &lt;span class="p">&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go env -w &lt;span class="nv">GOPROXY&lt;/span>&lt;span class="o">=&lt;/span>https://goproxy.cn,direct
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="mysql">MySQL
&lt;/h2>&lt;p>JSON_CONTAINS_PATH(developer_video_v2, &amp;lsquo;one&amp;rsquo;, &amp;lsquo;$.file.cdnurl&amp;rsquo;) = 0&lt;/p>
&lt;p>&lt;strong>å‚æ•°è¯´æ˜&lt;/strong> ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;code>developer_video_v2&lt;/code>&lt;/strong> ï¼šè¦æ£€æŸ¥çš„ JSON å­—æ®µ&lt;/li>
&lt;li>&lt;strong>&lt;code>'one'&lt;/code>&lt;/strong> ï¼šæ£€æŸ¥æ¨¡å¼ï¼Œè¡¨ç¤ºåªè¦å­˜åœ¨ &lt;strong>ä»»æ„ä¸€ä¸ªæŒ‡å®šçš„è·¯å¾„&lt;/strong> å°±è¿”å› &lt;code>1&lt;/code>
ï¼ˆè‹¥æ”¹ä¸º &lt;code>'all'&lt;/code> åˆ™æ˜¯è¦æ±‚ &lt;strong>æ‰€æœ‰è·¯å¾„å¿…é¡»å­˜åœ¨&lt;/strong> ï¼Œæ­¤å¤„å› åªæœ‰ä¸€ä¸ªè·¯å¾„ï¼Œæ•ˆæœç­‰åŒï¼‰&lt;/li>
&lt;li>&lt;strong>&lt;code>'$.file.cdnurl'&lt;/code>&lt;/strong> ï¼šè¦æ¢æµ‹çš„ JSON è·¯å¾„ï¼ˆæ ¼å¼éµå¾ª MySQL JSON è·¯å¾„è¯­æ³•ï¼‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">knight_game&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">developer_video_v2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">AND&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IFNULL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">JSON_UNQUOTE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">developer_video_v2&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;$.file.cdnurl&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">knight_game&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">developer_video_v2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">-- ç¡®ä¿å­—æ®µæœ¬èº«ä¸æ˜¯ç©ºå­—ç¬¦ä¸²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">AND&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">-- æ£€æŸ¥JSONè·¯å¾„æ˜¯å¦ä¸å­˜åœ¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JSON_CONTAINS_PATH&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">developer_video_v2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;one&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;$.file.cdnurl&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">OR&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">-- è·¯å¾„å­˜åœ¨ä½†å€¼ä¸ºç©ºå­—ç¬¦ä¸²ï¼ˆJSONä¸­å­˜å‚¨ &amp;#34;&amp;#34;ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">JSON_UNQUOTE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">developer_video_v2&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;$.file.cdnurl&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">OR&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">-- è·¯å¾„å­˜åœ¨ä½†å€¼ä¸ºJSON nullï¼ˆMySQLè¿”å›SQL NULLï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">developer_video_v2&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;$.file.cdnurl&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">IS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NULL&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="wsl">wsl
&lt;/h2>&lt;p>ç›´æ¥è¾“å…¥wsl è¿›å…¥é»˜è®¤ubuntuç³»ç»Ÿ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>React Deploy</title><link>https://godvvvzzz.github.io/p/react-deploy/</link><pubDate>Sun, 23 Feb 2025 00:54:07 +0800</pubDate><guid>https://godvvvzzz.github.io/p/react-deploy/</guid><description>&lt;h1 id="react-é¡¹ç›®éƒ¨ç½²åˆ°è…¾è®¯äº‘æœåŠ¡å™¨">React é¡¹ç›®éƒ¨ç½²åˆ°è…¾è®¯äº‘æœåŠ¡å™¨
&lt;/h1>&lt;p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•å°† React é¡¹ç›®éƒ¨ç½²åˆ°è…¾è®¯äº‘æœåŠ¡å™¨ï¼ˆæ— éœ€åŸŸåï¼‰ï¼Œå¹¶ä½¿ç”¨ Nginx ä½œä¸º Web æœåŠ¡å™¨è¿›è¡Œé…ç½®ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ
&lt;/h2>&lt;h3 id="æœåŠ¡å™¨é…ç½®">æœåŠ¡å™¨é…ç½®
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>æ“ä½œç³»ç»Ÿ&lt;/strong>ï¼šæ¨è Ubuntu 24.04 LTS&lt;/li>
&lt;li>&lt;strong>å®‰å…¨ç»„å¼€æ”¾ç«¯å£&lt;/strong>ï¼š80 (HTTP) å’Œ 22 (SSH)&lt;/li>
&lt;li>&lt;strong>è·å–æœåŠ¡å™¨å…¬ç½‘ IP&lt;/strong>ï¼šå¦‚ &lt;code>123.123.123.123&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="éƒ¨ç½²æ­¥éª¤">éƒ¨ç½²æ­¥éª¤
&lt;/h2>&lt;h3 id="è¿æ¥æœåŠ¡å™¨">è¿æ¥æœåŠ¡å™¨
&lt;/h3>&lt;p>é€šè¿‡ SSH è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œä½¿ç”¨å¯†ç æˆ–å¯†é’¥ç™»å½•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ssh root@æœåŠ¡å™¨IP
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å®‰è£…å¿…è¦ç¯å¢ƒ">å®‰è£…å¿…è¦ç¯å¢ƒ
&lt;/h3>&lt;p>é¦–å…ˆï¼Œæ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨å¹¶å®‰è£… Node.js å’Œ Nginxï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sudo apt upgrade -y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£… Node.js&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -fsSL https://deb.nodesource.com/setup_20.x &lt;span class="p">|&lt;/span> sudo -E bash -
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install -y nodejs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£… Nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install nginx -y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># éªŒè¯å®‰è£…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">node -v &lt;span class="c1"># åº”æ˜¾ç¤º v20.x&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nginx -v &lt;span class="c1"># åº”æ˜¾ç¤ºç‰ˆæœ¬å·&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¸Šä¼ é¡¹ç›®æ–‡ä»¶">ä¸Šä¼ é¡¹ç›®æ–‡ä»¶
&lt;/h3>&lt;p>å°†æœ¬åœ° React é¡¹ç›®ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æœ¬åœ°ç”µè„‘æ‰§è¡Œï¼ˆå°†æœ¬åœ°é¡¹ç›®ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">scp -r ./react-project root@æœåŠ¡å™¨IP:/home/react-project
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æˆ–è€…é€šè¿‡git cloneä¸‹è½½ä»“åº“&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ„å»ºç”Ÿäº§ç‰ˆæœ¬">æ„å»ºç”Ÿäº§ç‰ˆæœ¬
&lt;/h3>&lt;p>åœ¨æœåŠ¡å™¨ç«¯æ„å»º React åº”ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æœåŠ¡å™¨ç«¯æ“ä½œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /home/react-project
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm run build &lt;span class="c1"># ç”Ÿæˆ build/ æˆ– dist/ ç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®-nginx">é…ç½® Nginx
&lt;/h3>&lt;p>åˆ›å»º Nginx é…ç½®æ–‡ä»¶å¹¶å¯ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»º Nginx é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo vim /etc/nginx/sites-available/react-app
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨æ–‡ä»¶ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="mi">120&lt;/span>&lt;span class="s">.51.70.205&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># æ— éœ€åŸŸåï¼Œæ›¿æ¢æˆè‡ªå·±çš„æœåŠ¡å™¨å…¬ç½‘ip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">root&lt;/span> &lt;span class="s">/home/react-project/build&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1"># æ ¹æ®å®é™…æ„å»ºç›®å½•è°ƒæ•´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">index&lt;/span> &lt;span class="s">index.html&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">try_files&lt;/span> &lt;span class="nv">$uri&lt;/span> &lt;span class="nv">$uri/&lt;/span> &lt;span class="s">/index.html&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ç”¨é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ln -s /etc/nginx/sites-available/react-app /etc/nginx/sites-enabled/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo nginx -t &lt;span class="c1"># æµ‹è¯•é…ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl restart nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¼€æ”¾é˜²ç«å¢™è…¾è®¯äº‘æ§åˆ¶å°">å¼€æ”¾é˜²ç«å¢™ï¼ˆè…¾è®¯äº‘æ§åˆ¶å°ï¼‰
&lt;/h3>&lt;p>ç™»å½•è…¾è®¯äº‘æ§åˆ¶å°ï¼Œè¿›å…¥å®‰å…¨ç»„è®¾ç½®ï¼Œæ·»åŠ å…¥ç«™è§„åˆ™ï¼š&lt;/p>
&lt;ul>
&lt;li>åè®®ï¼šTCP&lt;/li>
&lt;li>ç«¯å£ï¼š80&lt;/li>
&lt;li>æ¥æºï¼š0.0.0.0/0ï¼ˆæˆ–ä½ çš„æœ¬åœ° IPï¼‰&lt;/li>
&lt;/ul>
&lt;h3 id="æœ¬åœ°è®¿é—®">æœ¬åœ°è®¿é—®
&lt;/h3>&lt;p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">http://æœåŠ¡å™¨IP
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¤‡é€‰æ–¹æ¡ˆä½¿ç”¨-pm2-éƒ¨ç½²">å¤‡é€‰æ–¹æ¡ˆï¼šä½¿ç”¨ PM2 éƒ¨ç½²
&lt;/h3>&lt;p>è‹¥éœ€ä¿æŒå¼€å‘æ¨¡å¼è¿è¡Œï¼ˆä¸æ¨èç”Ÿäº§ç¯å¢ƒï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å…¨å±€å®‰è£… PM2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install pm2 -g
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨åº”ç”¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pm2 serve /home/react-project/build &lt;span class="m">3000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è®¾ç½®å¼€æœºå¯åŠ¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pm2 startup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pm2 save
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ—¶è®¿é—®åœ°å€ä¸ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">http://æœåŠ¡å™¨IP:3000
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åç»­ç»´æŠ¤">åç»­ç»´æŠ¤
&lt;/h2>&lt;h3 id="æ›´æ–°ä»£ç ">æ›´æ–°ä»£ç 
&lt;/h3>&lt;p>è‹¥è¦æ›´æ–°ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æœ¬åœ°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">scp -r ./react-project root@æœåŠ¡å™¨IP:/home/react-project
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æœåŠ¡å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /home/react-project
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm run build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl restart nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å‘½ä»¤&lt;/th>
&lt;th>ä½œç”¨&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>sudo systemctl status nginx&lt;/code>&lt;/td>
&lt;td>æŸ¥çœ‹ Nginx çŠ¶æ€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>journalctl -u nginx -f&lt;/code>&lt;/td>
&lt;td>æŸ¥çœ‹ Nginx æ—¥å¿—&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pm2 list&lt;/code>&lt;/td>
&lt;td>æŸ¥çœ‹ PM2 è¿›ç¨‹&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>æƒé™é—®é¢˜&lt;/strong>ï¼šç¡®ä¿ &lt;code>/home/react-project&lt;/code> ç›®å½•æœ‰è¯»å–æƒé™ã€‚&lt;/li>
&lt;li>&lt;strong>è·¯å¾„é—®é¢˜&lt;/strong>ï¼šæ£€æŸ¥ Nginx é…ç½®ä¸­çš„è·¯å¾„ä¸å®é™…æ„å»ºç›®å½•æ˜¯å¦ä¸€è‡´ã€‚&lt;/li>
&lt;li>&lt;strong>ç«¯å£å†²çª&lt;/strong>ï¼šè‹¥ä½¿ç”¨å…¶ä»–ç«¯å£éœ€åŒæ­¥ä¿®æ”¹å®‰å…¨ç»„è§„åˆ™ã€‚&lt;/li>
&lt;/ul>
&lt;p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤å³å¯é€šè¿‡æœåŠ¡å™¨ IP ç›´æ¥è®¿é—®éƒ¨ç½²çš„ React åº”ç”¨ã€‚åç»­è·å–åŸŸååï¼Œåªéœ€åœ¨ Nginx é…ç½®ä¸­ä¿®æ”¹ &lt;code>server_name&lt;/code> å¹¶é…ç½® SSL è¯ä¹¦å³å¯å‡çº§ä¸º HTTPS ç«™ç‚¹ã€‚&lt;/p></description></item><item><title>Archives</title><link>https://godvvvzzz.github.io/archives/</link><pubDate>Sun, 06 Mar 2022 00:00:00 +0000</pubDate><guid>https://godvvvzzz.github.io/archives/</guid><description/></item><item><title>Links</title><link>https://godvvvzzz.github.io/links/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://godvvvzzz.github.io/links/</guid><description>&lt;p>To use this feature, add &lt;code>links&lt;/code> section to frontmatter.&lt;/p>
&lt;p>This page&amp;rsquo;s frontmatter:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">links&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">GitHub&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">GitHub is the world&amp;#39;s largest software development platform.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://github.com&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TypeScript&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TypeScript is a typed superset of JavaScript that compiles to plain JavaScript.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://www.typescriptlang.org&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ts-logo-128.jpg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>image&lt;/code> field accepts both local and external images.&lt;/p></description></item><item><title>Search</title><link>https://godvvvzzz.github.io/search/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://godvvvzzz.github.io/search/</guid><description/></item></channel></rss>