<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="关于什么时候使用内网域名和外网域名"><title>前后端域名使用探讨</title>
<link rel=canonical href=https://godvvvzzz.github.io/p/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%9F%9F%E5%90%8D%E4%BD%BF%E7%94%A8%E6%8E%A2%E8%AE%A8/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="前后端域名使用探讨"><meta property='og:description' content="关于什么时候使用内网域名和外网域名"><meta property='og:url' content='https://godvvvzzz.github.io/p/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%9F%9F%E5%90%8D%E4%BD%BF%E7%94%A8%E6%8E%A2%E8%AE%A8/'><meta property='og:site_name' content='VvVzzz Blog'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='nginx'><meta property='article:published_time' content='2025-02-27T00:49:52+08:00'><meta property='article:modified_time' content='2025-02-27T00:49:52+08:00'><meta name=twitter:title content="前后端域名使用探讨"><meta name=twitter:description content="关于什么时候使用内网域名和外网域名"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hue0bca592654ffc56b7dde28b45d28b8f_19270_300x0_resize_q75_box.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>VvVzzz Blog</a></h1><h2 class=site-description>悟已往之不谏，知来者之可追。</h2></div></header><ol class=menu-social><li><a href=https://github.com/GODVvVZzz target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#核心原则><strong>核心原则</strong></a></li><li><a href=#典型场景及配置方案><strong>典型场景及配置方案</strong></a><ol><li><a href=#场景1纯web应用仅前端调用后端><strong>场景1：纯Web应用（仅前端调用后端）</strong></a></li><li><a href=#场景2混合应用前端客户端均需调用后端><strong>场景2：混合应用（前端+客户端均需调用后端）</strong></a></li><li><a href=#场景3全开放api服务如第三方集成><strong>场景3：全开放API服务（如第三方集成）</strong></a></li></ol></li><li><a href=#安全最佳实践><strong>安全最佳实践</strong></a></li><li><a href=#常见误区与解答><strong>常见误区与解答</strong></a></li><li><a href=#总结><strong>总结</strong></a></li><li><a href=#场景1-详解>场景1 详解</a><ol><li><a href=#关键步骤详解><strong>关键步骤详解</strong></a><ol><li><a href=#浏览器请求前端页面><strong>浏览器请求前端页面</strong></a></li><li><a href=#前端服务器nginx响应静态文件><strong>前端服务器（Nginx）响应静态文件</strong></a></li><li><a href=#浏览器执行js代码发起api请求><strong>浏览器执行JS代码发起API请求</strong></a></li><li><a href=#nginx代理转发到后端服务器><strong>Nginx代理转发到后端服务器</strong></a></li><li><a href=#后端服务器处理请求><strong>后端服务器处理请求</strong></a></li><li><a href=#数据返回浏览器><strong>数据返回浏览器</strong></a></li></ol></li><li><a href=#为什么后端无需暴露公网><strong>为什么后端无需暴露公网？</strong></a></li><li><a href=#常见问题解答><strong>常见问题解答</strong></a><ol><li><a href=#q1为什么浏览器不直接请求后端地址><strong>Q1：为什么浏览器不直接请求后端地址？</strong></a></li><li><a href=#q2如何保证内网通信安全><strong>Q2：如何保证内网通信安全？</strong></a></li><li><a href=#q3如何扩展多台后端服务器><strong>Q3：如何扩展多台后端服务器？</strong></a></li></ol></li><li><a href=#总结-1><strong>总结</strong></a></li></ol></li><li><a href=#dns-nginx如何协作的>dns nginx如何协作的</a><ol><li><a href=#1-dns-解析阶段域名到-nginx-服务器的-ip><strong>1. DNS 解析阶段：域名到 Nginx 服务器的 IP</strong></a></li><li><a href=#2-nginx-接收请求后的处理逻辑><strong>2. Nginx 接收请求后的处理逻辑</strong></a></li><li><a href=#3-为什么域名后缀如-api不是关键><strong>3. 为什么域名后缀（如 <code>/api</code>）不是关键？</strong></a></li><li><a href=#关键总结><strong>关键总结</strong></a></li><li><a href=#配置示例多域名--路径转发><strong>配置示例：多域名 + 路径转发</strong></a></li><li><a href=#测试方法><strong>测试方法</strong></a></li><li><a href=#常见问题><strong>常见问题</strong></a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E9%83%A8%E7%BD%B2/>部署</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%9F%9F%E5%90%8D%E4%BD%BF%E7%94%A8%E6%8E%A2%E8%AE%A8/>前后端域名使用探讨</a></h2><h3 class=article-subtitle>关于什么时候使用内网域名和外网域名</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Feb 27, 2025</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>4 minute read</time></div></footer></div></header><section class=article-content><hr><h2 id=核心原则><strong>核心原则</strong></h2><div class=table-wrapper><table><thead><tr><th style=text-align:center>访问场景</th><th style=text-align:center>推荐域名类型</th><th style=text-align:center>说明</th></tr></thead><tbody><tr><td style=text-align:center><strong>前端 → 后端接口</strong></td><td style=text-align:center>内网域名/IP</td><td style=text-align:center>前端与后端部署在同一内网，通过反向代理通信，减少公网暴露风险。</td></tr><tr><td style=text-align:center><strong>客户端 → 后端接口</strong></td><td style=text-align:center>外网域名</td><td style=text-align:center>客户端（如移动端、第三方）需通过公网访问，需暴露外网域名并加固安全。</td></tr></tbody></table></div><hr><h2 id=典型场景及配置方案><strong>典型场景及配置方案</strong></h2><h3 id=场景1纯web应用仅前端调用后端><strong>场景1：纯Web应用（仅前端调用后端）</strong></h3><ul><li><p><strong>架构特点</strong>：</p><ul><li>前端部署在公网（如Nginx/CDN），后端在内网。</li><li>所有接口仅由前端调用，<strong>客户端不直接访问后端</strong>。</li></ul></li><li><p><strong>配置方案</strong>：</p><ol><li><strong>前端调用后端</strong>：Nginx使用内网域名/IP代理后端服务（如 <code>proxy_pass http://internal-api.example.com</code>）。</li><li><strong>客户端访问</strong>：仅访问前端域名（如 <code>https://www.example.com</code>），不暴露后端接口。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 前端Nginx配置
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>location</span> <span class=s>/api/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_pass</span> <span class=s>http://internal-api.example.com:8080</span><span class=p>;</span>  <span class=c1># 内网域名
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=场景2混合应用前端客户端均需调用后端><strong>场景2：混合应用（前端+客户端均需调用后端）</strong></h3><ul><li><p><strong>架构特点</strong>：</p><ul><li>后端需同时服务前端（Web）和客户端（App/第三方）。</li><li>需区分内部接口和开放接口。</li></ul></li><li><p><strong>配置方案</strong>：</p><ol><li><strong>前端调用后端</strong>：通过内网域名/IP（走反向代理）。</li><li><strong>客户端调用后端</strong>：通过外网域名（如 <code>https://api.example.com</code>），配合API网关、鉴权和限流。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 对外API网关配置
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>443</span> <span class=s>ssl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>api.example.com</span><span class=p>;</span>  <span class=c1># 外网域名
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/public-api/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://backend-cluster</span><span class=p>;</span>  <span class=c1># 后端集群内网地址
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1># 安全加固：API密钥验证、速率限制等
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=场景3全开放api服务如第三方集成><strong>场景3：全开放API服务（如第三方集成）</strong></h3><ul><li>架构特点：<ul><li>后端需完全暴露给公网，供多客户端直接调用。</li></ul></li><li>配置方案：<ol><li>统一使用外网域名（如 <code>https://api.example.com</code>）。</li><li>通过<strong>API网关</strong>管理流量，并启用HTTPS、OAuth2、IP白名单等安全措施。</li></ol></li></ul><hr><h2 id=安全最佳实践><strong>安全最佳实践</strong></h2><ol><li><p><strong>内网通信加固</strong></p><ul><li><p>使用内网域名/IP，避免后端直接暴露在公网。</p></li><li><p>通过防火墙限制后端端口仅允许前端服务器IP访问。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 后端服务器防火墙规则（示例）</span>
</span></span><span class=line><span class=cl>sudo ufw allow from 前端服务器IP to any port <span class=m>8080</span>
</span></span><span class=line><span class=cl>sudo ufw deny <span class=m>8080</span>  <span class=c1># 禁止其他IP访问</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>外网接口防护</strong></p><ul><li><p><strong>HTTPS加密</strong>：强制所有外网域名使用SSL/TLS。</p></li><li><p><strong>鉴权机制</strong>：JWT、OAuth2、API Key等。</p></li><li><p>速率限制：防止DDoS和滥用。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># Nginx限流配置
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>limit_req_zone</span> <span class=nv>$binary_remote_addr</span> <span class=s>zone=api_rate:10m</span> <span class=s>rate=10r/s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>location</span> <span class=s>/api/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>limit_req</span> <span class=s>zone=api_rate</span> <span class=s>burst=20</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_pass</span> <span class=s>http://backend</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>监控与日志</strong></p><ul><li>记录所有外网接口的访问日志。</li><li>使用工具（如Prometheus+Grafana）监控API健康状态。</li></ul></li></ol><hr><h2 id=常见误区与解答><strong>常见误区与解答</strong></h2><ul><li><strong>误区1</strong>：所有接口都需通过外网暴露。
​<strong>解答</strong>：仅客户端直接调用的接口需外网域名，前端调用的接口应通过内网通信。</li><li><strong>误区2</strong>：内网域名不需要HTTPS。
​<strong>解答</strong>：内网通信也应启用HTTPS（如自签证书），防止内部流量被窃听。</li><li><strong>误区3</strong>：外网接口仅靠防火墙保护足够。
​<strong>解答</strong>：需多层防御（HTTPS+鉴权+WAF），防火墙仅是第一道屏障。</li></ul><hr><h2 id=总结><strong>总结</strong></h2><ul><li><strong>前端调用后端</strong> → 优先使用内网域名/IP，通过反向代理隐藏后端。</li><li><strong>客户端调用后端</strong> → 使用外网域名，严格加固安全策略。</li><li>始终遵循最小暴露原则，减少攻击面，结合业务需求设计网络架构。</li></ul><h2 id=场景1-详解>场景1 详解</h2><p>在前后端分离的架构中，通过 <strong>Nginx 反向代理</strong>实现浏览器间接访问内网后端服务的链路如下：</p><p><strong>完整交互流程（以访问 <code>https://example.com</code> 为例）</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sequenceDiagram
</span></span><span class=line><span class=cl>    participant 浏览器
</span></span><span class=line><span class=cl>    participant 前端服务器(Nginx)
</span></span><span class=line><span class=cl>    participant 后端服务器
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    浏览器-&gt;&gt;前端服务器(Nginx): 1. 请求前端页面（GET /）
</span></span><span class=line><span class=cl>    前端服务器(Nginx)-&gt;&gt;浏览器: 2. 返回HTML/CSS/JS文件
</span></span><span class=line><span class=cl>    浏览器-&gt;&gt;前端服务器(Nginx): 3. 发起API请求（GET /api/todos）
</span></span><span class=line><span class=cl>    前端服务器(Nginx)-&gt;&gt;后端服务器: 4. 转发请求到内网地址（如http://10.0.0.2:8080）
</span></span><span class=line><span class=cl>    后端服务器-&gt;&gt;前端服务器(Nginx): 5. 返回API响应数据
</span></span><span class=line><span class=cl>    前端服务器(Nginx)-&gt;&gt;浏览器: 6. 返回数据给浏览器
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=关键步骤详解><strong>关键步骤详解</strong></h3><h4 id=浏览器请求前端页面><strong>浏览器请求前端页面</strong></h4><ul><li><strong>用户输入</strong>：访问 <code>https://example.com</code>。</li><li><strong>DNS解析</strong>：浏览器通过DNS查询得到 <code>example.com</code> 的公网IP（如 <code>122.51.70.205</code>）。</li><li><strong>请求前端资源</strong>：浏览器向该IP的80/443端口发送请求，获取 <code>index.html</code> 和静态资源（JS/CSS）。</li></ul><h4 id=前端服务器nginx响应静态文件><strong>前端服务器（Nginx）响应静态文件</strong></h4><ul><li><p>Nginx配置：托管前端打包后的文件。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>root</span> <span class=s>/var/www/dist</span><span class=p>;</span>  <span class=c1># 前端文件目录
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>index</span> <span class=s>index.html</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>try_files</span> <span class=nv>$uri</span> <span class=nv>$uri/</span> <span class=s>/index.html</span><span class=p>;</span>  <span class=c1># 处理前端路由
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=浏览器执行js代码发起api请求><strong>浏览器执行JS代码发起API请求</strong></h4><ul><li><strong>前端代码逻辑</strong>：JS中调用 <code>fetch("/api/todos")</code>。</li><li><strong>实际请求地址</strong>：浏览器会将其解析为 <code>https://example.com/api/todos</code>（同源请求）。</li></ul><h4 id=nginx代理转发到后端服务器><strong>Nginx代理转发到后端服务器</strong></h4><ul><li><p>Nginx反向代理规则：匹配/api/路径，转发到内网后端。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>location</span> <span class=s>/api/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_pass</span> <span class=s>http://10.0.0.2:8080</span><span class=p>;</span>  <span class=c1># 后端内网IP和端口
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>proxy_set_header</span> <span class=s>Host</span> <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_set_header</span> <span class=s>X-Real-IP</span> <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>内网通信</strong>：Nginx将请求发送到后端服务器的内网地址 <code>10.0.0.2:8080</code>。</p></li></ul><h4 id=后端服务器处理请求><strong>后端服务器处理请求</strong></h4><ul><li><strong>监听端口</strong>：后端服务运行在内网服务器的 <code>8080</code> 端口。</li><li><strong>安全限制</strong>：防火墙仅允许来自前端服务器IP的请求（如 <code>10.0.0.1</code>）。</li></ul><h4 id=数据返回浏览器><strong>数据返回浏览器</strong></h4><ul><li><strong>响应路径</strong>：后端 → Nginx → 浏览器。</li><li><strong>浏览器视角</strong>：全程只与 <code>example.com</code> 通信，<strong>感知不到后端服务器的存在</strong>。</li></ul><hr><h3 id=为什么后端无需暴露公网><strong>为什么后端无需暴露公网？</strong></h3><ol><li><p>Nginx的中转作用</p><ul><li>所有请求通过Nginx进入，后端服务只需在内网监听端口，无需公网IP或端口映射。</li></ul></li><li><p>防火墙保护</p><ul><li><p>后端服务器的防火墙可配置为仅接受来自前端服务器内网IP的请求：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 后端服务器防火墙规则（示例）</span>
</span></span><span class=line><span class=cl>sudo ufw allow from 10.0.0.1 to any port <span class=m>8080</span>  <span class=c1># 仅允许前端服务器访问</span>
</span></span><span class=line><span class=cl>sudo ufw deny <span class=m>8080</span>  <span class=c1># 禁止其他IP访问</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>安全性提升</p><ul><li>后端不暴露公网，减少被扫描攻击的风险。</li></ul></li></ol><hr><h3 id=常见问题解答><strong>常见问题解答</strong></h3><h4 id=q1为什么浏览器不直接请求后端地址><strong>Q1：为什么浏览器不直接请求后端地址？</strong></h4><ul><li><strong>同源策略</strong>：前端代码部署在 <code>example.com</code>，若直接请求 <code>http://10.0.0.2:8080/api</code> 会触发跨域错误（CORS）。</li><li><strong>解决方案</strong>：通过Nginx代理统一域名，规避跨域问题。</li></ul><h4 id=q2如何保证内网通信安全><strong>Q2：如何保证内网通信安全？</strong></h4><ul><li><strong>使用VPN或专线</strong>：前后端服务器通过私有网络通信。</li><li><strong>内网HTTPS</strong>：即使在内网，也建议为后端服务启用HTTPS。</li></ul><h4 id=q3如何扩展多台后端服务器><strong>Q3：如何扩展多台后端服务器？</strong></h4><ul><li><p>负载均衡：在Nginx中配置upstream模块：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>upstream</span> <span class=s>backend</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>10.0.0.2</span><span class=p>:</span><span class=mi>8080</span> <span class=s>weight=1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server</span> <span class=n>10.0.0.3</span><span class=p>:</span><span class=mi>8080</span> <span class=s>weight=2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>location</span> <span class=s>/api/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_pass</span> <span class=s>http://backend</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><hr><h3 id=总结-1><strong>总结</strong></h3><ul><li><strong>核心逻辑</strong>：Nginx作为中间层，将公网请求转发到内网后端，隐藏后端细节。</li><li><strong>安全要点</strong>：后端仅在内网监听，通过防火墙限制访问来源。</li><li><strong>优势</strong>：前端域名统一管理请求，提升安全性和扩展性。</li></ul><h2 id=dns-nginx如何协作的>dns nginx如何协作的</h2><h3 id=1-dns-解析阶段域名到-nginx-服务器的-ip><strong>1. DNS 解析阶段：域名到 Nginx 服务器的 IP</strong></h3><ul><li><strong>用户访问域名</strong>：例如 <code>https://www.example.com</code>。</li><li>DNS 查询：<ol><li>浏览器向本地 DNS 缓存或运营商 DNS 服务器查询 <code>www.example.com</code> 的 IP。</li><li>DNS 服务器返回该域名对应的 <strong>Nginx 服务器的公网 IP</strong>（如 <code>122.51.70.205</code>）。</li></ol></li><li><strong>结果</strong>：浏览器的所有请求（无论路径是 <code>/</code>、<code>/api/xxx</code> 或其他）都会发送到 <code>122.51.70.205</code> 的 80/443 端口。</li></ul><hr><h3 id=2-nginx-接收请求后的处理逻辑><strong>2. Nginx 接收请求后的处理逻辑</strong></h3><p>Nginx <strong>不依赖域名后缀</strong>（如 <code>/api</code>），而是通过以下两个关键机制确定如何转发请求：</p><hr><p><strong>5(1) 根据 <code>Host</code> 头匹配 <code>server</code> 块</strong></p><ul><li><p><strong>HTTP 请求头</strong>：浏览器在请求中自动携带 <code>Host: www.example.com</code>。</p></li><li><p>Nginx 配置：通过server_name匹配域名，决定由哪个server块处理请求。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 示例：处理 www.example.com 的请求
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>www.example.com</span><span class=p>;</span>  <span class=c1># 关键！匹配 Host 头
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>root</span> <span class=s>/var/www/html</span><span class=p>;</span>      <span class=c1># 返回前端页面
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/api/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://backend</span><span class=p>;</span>  <span class=c1># 转发到后端
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 另一个域名（如 api.example.com）的配置
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>api.example.com</span><span class=p>;</span>  <span class=c1># 匹配不同 Host 头
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://another-backend</span><span class=p>;</span>  <span class=c1># 转发到其他后端
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>核心逻辑</strong>：
Nginx 通过 <code>server_name</code> 区分不同域名的请求，<strong>即使它们指向同一个 IP</strong>。</p></li></ul><hr><p><strong>(2) 根据 <code>location</code> 块匹配路径</strong></p><ul><li><p>路径匹配：在同一个server块内，通过location规则（如/api/）进一步决定是否转发到后端。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>location</span> <span class=s>/api/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>proxy_pass</span> <span class=s>http://10.0.0.2:8080</span><span class=p>;</span>  <span class=c1># 转发到内网后端
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>最终流程</strong>：
<code>域名解析 → Nginx 接收请求 → 匹配 server_name → 匹配 location → 转发或返回静态文件</code>。</p></li></ul><hr><h3 id=3-为什么域名后缀如-api不是关键><strong>3. 为什么域名后缀（如 <code>/api</code>）不是关键？</strong></h3><ul><li><strong>误区澄清</strong>：
Nginx ​<strong>不依赖 URL 中的域名后缀</strong>​（如 <code>https://www.example.com/api/xxx</code> 中的 <code>api</code> 路径）来决定转发，而是通过以下两步：<ol><li><strong>域名级别</strong>：根据 <code>Host</code> 头选择 <code>server</code> 块（如 <code>www.example.com</code> vs <code>api.example.com</code>）。</li><li><strong>路径级别</strong>：在选中的 <code>server</code> 块内，根据 <code>location</code> 匹配路径（如 <code>/api/</code>）。</li></ol></li><li><strong>示例场景</strong>：<ul><li>如果用户访问<code>https://www.example.com/api/todos</code>：<ul><li>Nginx 先匹配 <code>server_name www.example.com</code> 的 <code>server</code> 块。</li><li>再通过 <code>location /api/</code> 将请求转发到后端。</li></ul></li><li>如果用户访问https://api.example.com/todos：<ul><li>Nginx 匹配 <code>server_name api.example.com</code> 的 <code>server</code> 块。</li><li>根据该 <code>server</code> 块的 <code>location /</code> 直接转发到另一个后端。</li></ul></li></ul></li></ul><hr><h3 id=关键总结><strong>关键总结</strong></h3><ol><li><strong>DNS 解析只是入口</strong>：<ul><li>仅负责将域名解析到 Nginx 服务器的 IP，不涉及后续路径处理。</li></ul></li><li><strong>Nginx 的核心匹配逻辑</strong>：<ul><li><strong>第 1 层</strong>：通过 <code>server_name</code> 匹配域名（<code>Host</code> 头）。</li><li><strong>第 2 层</strong>：通过 <code>location</code> 匹配路径。</li></ul></li><li><strong>隐藏后端的关键</strong>：<ul><li>浏览器始终只与 Nginx 通信，后端服务的 IP、端口、内网架构对浏览器完全透明。</li></ul></li></ol><hr><h3 id=配置示例多域名--路径转发><strong>配置示例：多域名 + 路径转发</strong></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=c1># 域名 www.example.com：处理前端页面和API
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>www.example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 前端静态资源
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>root</span> <span class=s>/var/www/html</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>index</span> <span class=s>index.html</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 转发API请求到后端
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=s>/api/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://10.0.0.2:8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 域名 api.example.com：直接转发到另一个后端
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>80</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>api.example.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://10.0.0.3:8080</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=测试方法><strong>测试方法</strong></h3><ol><li><p><strong>验证 DNS 解析</strong>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>dig www.example.com  <span class=c1># 查看是否返回 Nginx 服务器 IP</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>验证 Nginx 域名匹配</strong>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 模拟携带不同 Host 头的请求</span>
</span></span><span class=line><span class=cl>curl -H <span class=s2>&#34;Host: www.example.com&#34;</span> http://122.51.70.205/api/todos
</span></span><span class=line><span class=cl>curl -H <span class=s2>&#34;Host: api.example.com&#34;</span> http://122.51.70.205/todos
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>浏览器调试</strong>：</p><ul><li>在浏览器开发者工具的 <strong>Network</strong> 选项卡中，观察请求的 <code>Host</code> 头和响应来源。</li></ul></li></ol><hr><h3 id=常见问题><strong>常见问题</strong></h3><p><strong>Q1：如果多个域名指向同一个 IP，Nginx 如何区分？</strong></p><ul><li><strong>答案</strong>：通过 <code>server_name</code> 匹配请求头中的 <code>Host</code> 字段，无需不同 IP。</li></ul><p><strong>Q2：Nginx 能根据 URL 路径（如 <code>/api</code>）直接转发吗？</strong></p><ul><li><strong>答案</strong>：可以，但需在同一 <code>server</code> 块内配置 <code>location</code> 规则，而不是依赖域名后缀。</li></ul><p><strong>Q3：如何实现类似 <code>https://example.com/api</code> 和 <code>https://api.example.com</code> 的共存？</strong></p><ul><li>方案：<ul><li><code>https://example.com/api</code> → 使用 <code>server_name example.com</code> + <code>location /api</code>。</li><li><code>https://api.example.com</code> → 使用 <code>server_name api.example.com</code> + <code>location /</code>。</li></ul></li></ul><hr><p>通过以上机制，Nginx 完美实现了 <strong>域名解析 → 请求分发 → 后端隐藏</strong> 的全链路控制。</p></section><footer class=article-footer><section class=article-tags><a href=/tags/nginx/>Nginx</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><script src=https://utteranc.es/client.js repo=GODVvVZzz/blog-comments issue-term=pathname label=Comments crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 VvVzzz Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>